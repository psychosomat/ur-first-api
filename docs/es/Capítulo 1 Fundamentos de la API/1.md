# **Cap√≠tulo 1.1: ¬øQu√© es una API y por qu√© se necesita?**
**Tiempo de estudio:** 30 minutos

---

#### **1. Introducci√≥n: La API como "nodo de acoplamiento espacial"**
Imagine que usted es el comandante de una nave espacial. Para conectar su nave a la ISS, necesita un **nodo de acoplamiento est√°ndar**. Sin √©l, es imposible acoplarse, incluso si la nave y la estaci√≥n encajan perfectamente.

Una **API (Application Programming Interface)** es un "nodo de acoplamiento" similar para programas.
- Es un conjunto de reglas que permite a diferentes aplicaciones **intercambiar datos** y **trabajar juntas**.
- Ejemplo: cuando una aplicaci√≥n m√≥vil muestra el pron√≥stico del tiempo, utiliza la API de un servicio meteorol√≥gico.

> üí° **Analog√≠a del espacio:**
> Una API es como el protocolo de comunicaci√≥n entre la Tierra y un rover marciano. El rover recibe comandos en un formato que entiende (por ejemplo, "tomar foto del cr√°ter"), realiza la tarea y env√≠a los datos de vuelta.

---

#### **2. ¬øPor qu√© se necesitan las API?**
1. **Simplificaci√≥n del desarrollo**
   En lugar de crear todo desde cero, utiliza una API ya hecha, como la **SpaceX API**.
   ```python
   # Ejemplo: Obtener datos sobre los lanzamientos de SpaceX
   import requests
   response = requests.get("https://api.spacexdata.com/v3/missions")
   print(response.json()[0])  # Imprimir datos
   ```

2. **Automatizaci√≥n de procesos**
   Las API permiten a los robots sonda transmitir datos autom√°ticamente a la Tierra sin intervenci√≥n manual.

3. **Integraci√≥n de sistemas**
   Como el acoplamiento de m√≥dulos de la ISS: ¬°las API conectan su aplicaci√≥n con sistemas de pago, bases de datos o incluso telescopios!

4. **Acceso a datos √∫nicos**
   Por ejemplo, la [API de SpaceX](https://docs.spacexdata.com/) proporciona datos reales sobre lanzamientos de cohetes.

---

#### **3. ¬øC√≥mo funciona una API?**

- El **Cliente** (su programa) env√≠a una **solicitud HTTP** al servidor.
- El **Servidor** (por ejemplo, la NASA) procesa la solicitud y devuelve una **respuesta en formato JSON**.
- Los **datos** son "tesoros c√≥smicos": coordenadas de la ISS, fotos de galaxias, una lista de exoplanetas.

> **‚ö° Ejemplo de solicitud a la API "Open Notify" (ISS):**
> ```bash
> curl "http://api.open-notify.org/iss-now.json"
> ```
> **Respuesta:**
> ```json
> {
>   "message": "success",
>   "timestamp": 1725431234,
>   "iss_position": {
>     "latitude": "51.1234",
>     "longitude": "-120.5678"
>   }
> }
> ```

---

#### **4. Tipos de API (Resumen breve)**
| Tipo       | Ejemplo del espacio                     | D√≥nde se utiliza          |
|-----------|---------------------------------------|---------------------------|
| **REST**  | Comunicaci√≥n est√°ndar "Centro de control ‚Üî sat√©lite"     | Servicios web (90% de los casos) |
| **GraphQL**| "Consulta personalizada" (por ejemplo, "dame solo el tama√±o y la masa del planeta") | Sistemas complejos          |
| **SOAP**  | Como cifrado de radio en misiones antiguas    | Aplicaciones corporativas  |

En este tutorial nos centraremos en las **API REST**, el formato m√°s popular.

---

#### **5. Ejemplos de API espaciales**
1. **API Abierta de la NASA**: Datos de asteroides, fotos del telescopio Hubble.
2. **API de SpaceX**: Informaci√≥n sobre lanzamientos, cohetes, naves Dragon.
3. **Open Notify**: Posici√≥n actual de la ISS, n√∫mero de personas en el espacio.

---

#### **Cuestionario Interactivo**

<style>
    #quiz-container {
        border-radius: 8px;
        padding: 20px;
        margin-top: 20px;
        box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    }
    .question {
        margin-bottom: 15px;
    }
    .question p {
        font-weight: bold;
        margin-bottom: 10px;
    }
    #quiz-container label {
        display: block;
        margin-bottom: 5px;
        cursor: pointer;
        padding: 5px;
        border-radius: 4px;
    }
    #quiz-container button {
        border: none;
        padding: 10px 20px;
        border-radius: 5px;
        cursor: pointer;
        font-size: 16px;
        margin-top: 10px;
    }
    #quiz-container button:hover {
    }
    #quiz-results {
        margin-top: 20px;
        padding: 15px;
        border-radius: 5px;
    }
</style>

<div id="quiz-container">
  <form id="quiz-form">
    <div class="question">
      <p>1. Una API es...</p>
      <label><input type="radio" name="q1" value="a"> a) Inteligencia Artificial</label>
      <label><input type="radio" name="q1" value="b"> b) Un conjunto de reglas para la interacci√≥n de programas</label>
      <label><input type="radio" name="q1" value="c"> c) Un lenguaje de programaci√≥n</label>
    </div>
    <div class="question">
      <p>2. ¬øPor qu√© usar una API en lugar de escribir su propio c√≥digo?</p>
      <label><input type="radio" name="q2" value="a"> a) Para ahorrar tiempo</label>
      <label><input type="radio" name="q2" value="b"> b) Para acceder a datos √∫nicos</label>
      <label><input type="radio" name="q2" value="c"> c) Ambas opciones</label>
    </div>
    <div class="question">
      <p>3. ¬øQu√© formato de datos suele devolver una API?</p>
      <label><input type="radio" name="q3" value="a"> a) XML</label>
      <label><input type="radio" name="q3" value="b"> b) JSON</label>
      <label><input type="radio" name="q3" value="c"> c) TXT</label>
    </div>
    <div class="question">
    <button type="button" onclick="checkQuizAnswers()">Verificar</button>
  </form>
  <div id="quiz-results" style="display:none;"></div>
</div>

<script>
  function checkQuizAnswers() {
    const correctAnswers = { q1: 'b', q2: 'c', q3: 'b'};
    const form = document.getElementById('quiz-form');
    const resultsContainer = document.getElementById('quiz-results');
    let score = 0;
    let resultsHTML = '<h4>Resultados:</h4><ul>';

    for (const [question, correctAnswer] of Object.entries(correctAnswers)) {
      const questionDiv = form.querySelector(`input[name="${question}"]`).closest('.question');
      const labels = questionDiv.querySelectorAll('label');
      labels.forEach(l => {
          l.style.color = 'inherit';
          l.style.fontWeight = 'normal';
          l.style.border = 'none';
      });

      const userAnswer = form.elements[question] ? form.elements[question].value : undefined;

      if (userAnswer) {
        const selectedLabel = form.querySelector(`input[name="${question}"][value="${userAnswer}"]`).parentElement;
        if (userAnswer === correctAnswer) {
          score++;
          selectedLabel.style.color = '#28a745';
          selectedLabel.style.fontWeight = 'bold';
          resultsHTML += `<li>Pregunta ${question.slice(1)}: <span style="color:#28a745;">¬°Correcto!</span></li>`;
        } else {
          selectedLabel.style.color = '#dc3545';
          selectedLabel.style.fontWeight = 'bold';
          const correctLabel = form.querySelector(`input[name="${question}"][value="${correctAnswer}"]`).parentElement;
          correctLabel.style.color = '#28a745';
          correctLabel.style.fontWeight = 'bold';
          resultsHTML += `<li>Pregunta ${question.slice(1)}: <span style="color:#dc3545;">Incorrecto.</span> Respuesta correcta: <b>${correctAnswer.toUpperCase()}</b></li>`;
        }
      } else {
        resultsHTML += `<li>Pregunta ${question.slice(1)}: <span style="color:#ffc107;">Sin respuesta.</span></li>`;
      }
    }

    resultsHTML += `</ul><p><b>Su resultado: ${score} de ${Object.keys(correctAnswers).length}</b></p>`;
    resultsContainer.innerHTML = resultsHTML;
    resultsContainer.style.display = 'block';
  }
</script>

---

**üöÄ Resumen del cap√≠tulo:**

Una API es la base para trabajar con datos de fuentes externas. As√≠ como un astronauta no puede trabajar sin comunicaci√≥n con el Control de Misi√≥n, un desarrollador no puede construir una aplicaci√≥n compleja sin una API. ¬°En el pr√≥ximo cap√≠tulo, aprenderemos c√≥mo enviar "comandos" al servidor usando m√©todos HTTP!

> **üìå Consejo:** ¬°Intente realizar una solicitud a la [API de Open Notify](http://api.open-notify.org/) y descubra d√≥nde est√° la ISS ahora mismo! (Esto se puede hacer incluso con una consola simple)
