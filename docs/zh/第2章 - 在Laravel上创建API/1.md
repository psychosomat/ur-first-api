# **ç¬¬ 2.1 ç« ï¼šå‡†å¤‡ Laravel ç¯å¢ƒ**
**å­¦ä¹ æ—¶é—´ï¼š** 1-2 å°æ—¶
---

#### **1. ä¸ºä»€ä¹ˆéœ€è¦æœ¬åœ°ç¯å¢ƒï¼Ÿ**
æƒ³è±¡ä¸€ä¸‹ï¼Œæ‚¨æ­£åœ¨å»ºé€ ä¸€ä¸ªå®‡å®™æ¢æµ‹å™¨ã€‚åœ¨å°†å…¶å‘å°„åˆ°å¤ªç©ºä¹‹å‰ï¼Œæ‚¨ä¼š**åœ¨åœ°çƒä¸Šæµ‹è¯•æ‰€æœ‰ç³»ç»Ÿ**ã€‚æœ¬åœ°ç¯å¢ƒå°±æ˜¯æ‚¨çš„ä»£ç çš„â€œæ§åˆ¶å®éªŒå®¤â€ï¼š

- å®‰å…¨çš„å®éªŒï¼Œä¸å½±å“ç”Ÿäº§æœåŠ¡å™¨
- å¿«é€Ÿéƒ¨ç½²ä¾èµ–é¡¹
- è½»æ¾åˆ‡æ¢è½¯ä»¶ç‰ˆæœ¬

> ğŸ’¡ **å®‡å®™ç±»æ¯”ï¼š**
> Herd = ç§»åŠ¨å‘å°„å¤åˆä½“
> Docker = ç©ºé—´ç«™æ¨¡æ‹Ÿå™¨
> XAMPP = å›ºå®šè¯•éªŒå°

---

#### **2. å®‰è£… Herd**
**Herd** â€” ç°ä»£åŒ–çš„ PHP ç¯å¢ƒç®¡ç†å·¥å…·ï¼ˆç±»ä¼¼äº Laravel Valetï¼‰ã€‚

**å®‰è£…æ­¥éª¤ï¼š**

1. ä¸‹è½½å®‰è£…ç¨‹åºï¼š[herd.laravel.com](https://herd.laravel.com)
2. è¿è¡Œ `Herd Installer.exe` â†’ Next â†’ Install
3. å®‰è£…åï¼š
   	- ä»â€œå¼€å§‹â€èœå•æ‰“å¼€ Herdã€‚åº”ç”¨ç¨‹åºå›¾æ ‡å°†å‡ºç°åœ¨ç³»ç»Ÿæ‰˜ç›˜ä¸­ï¼ˆæ—¶é’Ÿæ—è¾¹ï¼‰ã€‚
   	- å•å‡» Herd å›¾æ ‡ï¼šç¡®ä¿ Nginx å’Œæ‰€éœ€çš„ PHP ç‰ˆæœ¬ï¼ˆä¾‹å¦‚ 8.3ï¼‰æ­£åœ¨è¿è¡Œï¼ˆç”¨ç»¿ç‚¹æ ‡è®°ï¼‰ã€‚
   	- è½¬åˆ° Herd Paths å¹¶æ·»åŠ å°†å­˜å‚¨æ‚¨é¡¹ç›®çš„æ–‡ä»¶å¤¹ï¼ˆä¾‹å¦‚ C:\Users\YourUser\Codeï¼‰ã€‚Herd å°†è‡ªåŠ¨ä¸ºè¯¥æ–‡ä»¶å¤¹ä¸­çš„æ¯ä¸ªå­ç›®å½•åˆ›å»ºæ¼‚äº®çš„åŸŸåï¼Œä¾‹å¦‚ folder-name.testã€‚

> âš ï¸ **é‡è¦æç¤ºï¼** å®‰è£…æ—¶ï¼š
> - å…è®¸ç½‘ç»œè®¿é—®ï¼ˆå¦‚æœé˜²ç«å¢™è¯·æ±‚ï¼‰
> - æ£€æŸ¥ PATH ä¸­çš„è·¯å¾„ï¼š`C:\Program Files\Herd\bin`

**æ£€æŸ¥å·¥ä½œï¼š**

1. å•å‡»ç³»ç»Ÿæ‰˜ç›˜ä¸­çš„ Herd å›¾æ ‡ã€‚
2. ç¡®ä¿ Nginx å’Œ PHP æœåŠ¡å¤„äºæ´»åŠ¨çŠ¶æ€ï¼ˆç»¿è‰²æŒ‡ç¤ºç¯ï¼‰ã€‚
3. åœ¨æ‚¨çš„é¡¹ç›®æ–‡ä»¶å¤¹ä¸­ï¼ˆä¾‹å¦‚ C:\Users\YourUser\Codeï¼‰åˆ›å»ºä¸€ä¸ªåä¸º test çš„æ–‡ä»¶å¤¹ï¼Œå¹¶åœ¨å…¶ä¸­åˆ›å»ºä¸€ä¸ªåä¸º index.php çš„æ–‡ä»¶ï¼Œå…¶å†…å®¹ä¸º ```<?php phpinfo(); ?>```ã€‚
4. åœ¨ Herd ä¸­ï¼Œé€šè¿‡ sites é€‰é¡¹å¡æŒ‡å®š test æ–‡ä»¶å¤¹çš„è·¯å¾„ï¼Œç„¶åå•å‡» "Add site"ã€‚
5. åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€åœ°å€ http://test.testã€‚æ‚¨åº”è¯¥ä¼šçœ‹åˆ°æ˜¾ç¤º PHP ä¿¡æ¯çš„é¡µé¢ã€‚

---

#### **3. æ›¿ä»£æ–¹æ³•ï¼ˆç®€è¦ï¼‰**
| å·¥å…·       | é€‚ç”¨å¯¹è±¡              | ä¼˜ç‚¹                          | ç¼ºç‚¹                  |
|------------------|-----------------------|--------------------------------|-------------------------|
| **Laravel Sail (Docker)**       | é€‚åˆæ‰€æœ‰çº§åˆ«  | å®Œå…¨éš”ç¦»ï¼Œç¯å¢ƒå¯é‡å¤æ€§ï¼ŒLaravel å®˜æ–¹æ”¯æŒ | éœ€è¦å®‰è£… Dockerï¼Œæ¶ˆè€—æ›´å¤šèµ„æº   |
| **XAMPP**        | åˆå­¦è€…           | ä¸€ä½“åŒ–å®‰è£…ç¨‹åºï¼ˆAll-in-Oneï¼‰              | ç¬¨é‡ï¼Œæ›´éš¾ç®¡ç†è½¯ä»¶ç‰ˆæœ¬ï¼Œæ±¡æŸ“ç³»ç»Ÿ   |
| **Laragon**      | Windows å¼€å‘è€… | å¿«é€Ÿï¼Œæ˜“äºåˆ‡æ¢ç‰ˆæœ¬ï¼Œè‡ªåŠ¨é…ç½®ä¸»æœº        | æ·»åŠ æ–°é¡¹ç›®æ—¶éœ€è¦æ‰‹åŠ¨é‡å¯ Web æœåŠ¡å™¨     |

> **Docker ç¤ºä¾‹ (Laravel Sail):**
> ```dockerfile
> # å®‰è£… Docker å
> ./vendor/bin/sail up
> ```

---

#### **4. å®‰è£… PHP å’Œ Composer**
**å¦‚æœæ‚¨ä¸ä½¿ç”¨ Herdï¼š**

1. PHPï¼š
   	- ä¸‹è½½ [é€‚ç”¨äº Windows çš„ PHP 8.3](https://windows.php.net/download/)
   	- è§£å‹åˆ° `C:\PHP`
   	- æ·»åŠ åˆ° PATHï¼š
     ```powershell
	 # å»ºè®®ä»¥ç®¡ç†å‘˜èº«ä»½åœ¨ PowerShell ä¸­æ‰§è¡Œ
     [Environment]::SetEnvironmentVariable("Path", "$env:Path;C:\PHP", "User")
     ```
2. Composerï¼š
   	- è¿è¡Œ [Composer-Setup.exe](https://getcomposer.org/download/)
   	- æ£€æŸ¥ï¼š
     ```cmd
     php -v
     composer --version
     ```

---

#### **5. å®‰è£… PostgreSQL**
**ç”¨äºæ•°æ®åº“æ“ä½œï¼š**

1. ä¸‹è½½ [PostgreSQL 15](https://www.postgresql.org/download/windows/)
2. è¿è¡Œå®‰è£…ç¨‹åºï¼š
   - è¶…çº§ç”¨æˆ·å¯†ç ï¼š`admin`ï¼ˆæˆ–æ‚¨è‡ªå·±çš„ï¼‰
   - ç«¯å£ï¼š`5432`ï¼ˆæ ‡å‡†ï¼‰
3. å®‰è£…åï¼š
   - æ‰“å¼€ **pgAdmin 4**ï¼ˆå›¾å½¢å®¢æˆ·ç«¯ï¼‰
   > æ‚¨å¯ä»¥ä½¿ç”¨ä»»ä½•å…¶ä»–æ•°æ®åº“å®¢æˆ·ç«¯ï¼Œä¾‹å¦‚ DBeaverã€DataGrip ç”šè‡³å‘½ä»¤è¡Œã€‚
   > æˆ‘æ›´å–œæ¬¢ DBeaver - ä½†è¿™å–å†³äºä¸ªäººå–œå¥½
   - ä¸ºé¡¹ç›®åˆ›å»ºæ•°æ®åº“ï¼š`space_api`

---

#### **6. å®‰è£… Laravel**
1. é€šè¿‡ Composerï¼š
```bash
composer create-project laravel/laravel space-api
cd space-api
```

2. Git åˆå§‹åŒ–ï¼ˆå¯é€‰ï¼‰ï¼š
```bash
git init
git add .
git commit -m "å¯åŠ¨å®‡å®™é¡¹ç›®"
```

3. å¯åŠ¨å¹¶æ£€æŸ¥æœåŠ¡å™¨ï¼š
>å¦‚æœæ‚¨ä½¿ç”¨ Herdï¼š
ç¡®ä¿æ‚¨çš„ space-api é¡¹ç›®ä½äºæ‚¨å·²æ·»åŠ åˆ° Herd çš„æ–‡ä»¶å¤¹ä¸­ã€‚
åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€åœ°å€ï¼šhttp://space-api.test
æ‚¨åº”è¯¥çœ‹åˆ° Laravel çš„èµ·å§‹é¡µé¢ã€‚æœåŠ¡å™¨å·²ç»é€šè¿‡ Herd è¿è¡Œï¼

å¦‚æœæ‚¨ä¸ä½¿ç”¨ Herdï¼ˆæ‰‹åŠ¨å®‰è£…ï¼‰ï¼š
```bash
php artisan serve
```
åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€ï¼š[http://localhost:8000](http://localhost:8000) â†’ åº”è¯¥ä¼šå‡ºç° Laravel çš„èµ·å§‹é¡µé¢ï¼

### åœ¨ Herd ä¸­åˆ›å»ºé¡¹ç›®æ—¶ï¼š

åªéœ€æŒ‰ç…§å±å¹•ä¸Šçš„è¯´æ˜æ“ä½œå³å¯ã€‚ä¸ºæ–¹ä¾¿èµ·è§ï¼Œé¡¹ç›®åç§°ä¸º `space-api`ã€‚å…¥é—¨å¥—ä»¶å¯ä»¥æ˜¯ä»»ä½•ä¸€ä¸ªï¼Œä½†æˆ‘æ›´å–œæ¬¢ Reactã€‚

##### åŠ¡å¿…å¯ç”¨ phpunit - æˆ‘ä»¬ç¨åä¼šç”¨åˆ°å®ƒ

---

#### **7. é¡¹ç›®é…ç½®**
**é‡è¦æ–‡ä»¶ï¼š**

- `.env` â€” ç¯å¢ƒè®¾ç½®ï¼ˆå¯†é’¥ï¼Œæ•°æ®åº“ï¼‰
- `config/database.php` â€” æ•°æ®åº“ç®¡ç†ç³»ç»Ÿé…ç½®
- `composer.json` â€” PHP ä¾èµ–é¡¹

**å°†æ•°æ®åº“è¿æ¥åˆ°é¡¹ç›®ï¼š**

æ·»åŠ åˆ° `.env`ï¼š

```env
DB_CONNECTION=pgsql
DB_HOST=127.0.0.1
DB_PORT=5432
DB_DATABASE=space_api
DB_USERNAME=postgres # PostgreSQL ç™»å½•å
DB_PASSWORD=admin # PostgreSQL å¯†ç 
```

**Artisan çš„ç¬¬ä¸€æ‰¹å‘½ä»¤ï¼š**
```bash
php artisan key:generate  # ç”Ÿæˆåº”ç”¨ç¨‹åºå¯†é’¥
php artisan migrate:fresh # æ•°æ®åº“è¿ç§»ï¼ˆåˆ‡æ¢åˆ° PostgreSQL æ—¶ï¼‰
```

---

#### **å·©å›ºçŸ¥è¯†å°æµ‹éªŒ**

<style>
    #quiz-container {
        border-radius: 8px;
        padding: 20px;
        margin-top: 20px;
        box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    }
    .question {
        margin-bottom: 15px;
    }
    .question p {
        font-weight: bold;
        margin-bottom: 10px;
    }
    #quiz-container label {
        display: block;
        margin-bottom: 5px;
        cursor: pointer;
        padding: 5px;
        border-radius: 4px;
    }
    #quiz-container button {
        border: none;
        padding: 10px 20px;
        border-radius: 5px;
        cursor: pointer;
        font-size: 16px;
        margin-top: 10px;
    }
    #quiz-container button:hover {
    }
    #quiz-results {
        margin-top: 20px;
        padding: 15px;
        border-radius: 5px;
    }
</style>

<div id="quiz-container">
  <form id="quiz-form">
    <div class="question">
      <p>1. Herd æ˜¯...</p>
      <label><input type="radio" name="q1" value="a"> a) ç”¨äºç®¡ç† PHP ç¯å¢ƒçš„å·¥å…·</label>
      <label><input type="radio" name="q1" value="b"> b) ä»£ç ç¼–è¾‘å™¨</label>
      <label><input type="radio" name="q1" value="c"> c) æ“ä½œç³»ç»Ÿ</label>
    </div>
    <div class="question">
      <p>2. Laravel ä½¿ç”¨å“ªç§å·¥å…·æ¥ç®¡ç† PHP ä¾èµ–é¡¹ï¼Ÿ</p>
      <label><input type="radio" name="q2" value="a"> a) npm</label>
      <label><input type="radio" name="q2" value="b"> b) Composer</label>
      <label><input type="radio" name="q2" value="c"> c) Artisan</label>
    </div>
    <div class="question">
      <p>3. PostgreSQL çš„æ ‡å‡†ç«¯å£æ˜¯ï¼š</p>
      <label><input type="radio" name="q3" value="a"> a) 3306</label>
      <label><input type="radio" name="q3" value="b"> b) 5432</label>
      <label><input type="radio" name="q3" value="c"> c) 8000</label>
    </div>
    <div class="question">
      <p>4. é€šè¿‡ Composer åˆ›å»º Laravel é¡¹ç›®çš„å‘½ä»¤æ˜¯ï¼š</p>
      <label><input type="radio" name="q4" value="a"> a) composer create-laravel</label>
      <label><input type="radio" name="q4" value="b"> b) laravel new</label>
      <label><input type="radio" name="q4" value="c"> c) composer create-project laravel/laravel</label>
    </div>
    <div class="question">
      <p>5. åŒ…å«ç¯å¢ƒè®¾ç½®çš„æ–‡ä»¶æ˜¯ï¼Ÿ</p>
      <label><input type="radio" name="q5" value="a"> a) .env</label>
      <label><input type="radio" name="q5" value="b"> b) config.php</label>
      <label><input type="radio" name="q5" value="c"> c) settings.ini</label>
    </div>
    <button type="button" onclick="checkQuizAnswers()">æ£€æŸ¥</button>
  </form>
  <div id="quiz-results" style="display:none;"></div>
</div>

<script>
  function checkQuizAnswers() {
    const correctAnswers = { q1: 'a', q2: 'b', q3: 'b', q4: 'c', q5: 'a' };
    const form = document.getElementById('quiz-form');
    const resultsContainer = document.getElementById('quiz-results');
    let score = 0;
    let resultsHTML = '<h4>ç»“æœï¼š</h4><ul>';

    for (const [question, correctAnswer] of Object.entries(correctAnswers)) {
      const questionDiv = form.querySelector(`input[name="${question}"]`).closest('.question');
      const labels = questionDiv.querySelectorAll('label');
      labels.forEach(l => {
          l.style.color = 'inherit';
          l.style.fontWeight = 'normal';
          l.style.border = 'none';
      });

      const userAnswer = form.elements[question] ? form.elements[question].value : undefined;

      if (userAnswer) {
        const selectedLabel = form.querySelector(`input[name="${question}"][value="${userAnswer}"]`).parentElement;
        if (userAnswer === correctAnswer) {
          score++;
          selectedLabel.style.fontWeight = 'bold';
          resultsHTML += `<li>é—®é¢˜ ${question.slice(1)}: <span style="color:green;">æ­£ç¡®ï¼</span></li>`;
        } else {
          selectedLabel.style.fontWeight = 'bold';
          const correctLabel = form.querySelector(`input[name="${question}"][value="${correctAnswer}"]`).parentElement;
          correctLabel.style.fontWeight = 'bold';
          resultsHTML += `<li>é—®é¢˜ ${question.slice(1)}: <span style="color:red;">é”™è¯¯ã€‚</span> æ­£ç¡®ç­”æ¡ˆï¼š<b>${correctAnswer.toUpperCase()}</b></li>`;
        }
      } else {
        resultsHTML += `<li>é—®é¢˜ ${question.slice(1)}: <span style="color:orange;">æ— ç­”æ¡ˆã€‚</span></li>`;
      }
    }

    resultsHTML += `</ul><p><b>æ‚¨çš„å¾—åˆ†ï¼š${score} / ${Object.keys(correctAnswers).length}</b></p>`;
    resultsContainer.innerHTML = resultsHTML;
    resultsContainer.style.display = 'block';
  }
</script>

---

### **ğŸš€ æœ¬ç« æ€»ç»“**
> æ‚¨å·²ç»ä¸ºå®‡å®™ API éƒ¨ç½²äº†â€œå‘å°„å°â€ï¼ç°åœ¨æ‚¨æ‹¥æœ‰ï¼š

> - ğŸ› ï¸ æœ¬åœ°ç¯å¢ƒï¼ˆHerd æˆ–æ‰‹åŠ¨å®‰è£…ï¼‰ï¼ŒåŒ…å« PHP å’Œ Nginx
> - ğŸ˜ å·²å®‰è£…çš„ PostgreSQL æ•°æ®åº“æœåŠ¡å™¨
> - ğŸš€ Laravel é¡¹ç›® `space-api`
> - ğŸ”Œ å·²é…ç½®çš„æ•°æ®åº“è¿æ¥
>
> **ğŸ“Œ æ£€æŸ¥ï¼š**

> - **å¦‚æœæ‚¨ä½¿ç”¨ Herdï¼š** ç¡®ä¿ `http://space-api.test` åœ°å€èƒ½å¤Ÿæ‰“å¼€ç½‘ç«™ã€‚
> - **å¦‚æœæ‚¨ä¸ä½¿ç”¨ Herdï¼š** ç¡®ä¿ `php artisan serve` å‘½ä»¤æœ‰æ•ˆï¼Œå¹¶ä¸”ç½‘ç«™å¯ä»¥é€šè¿‡ `http://localhost:8000` åœ°å€æ‰“å¼€ã€‚
> - æ— è®ºå“ªç§æƒ…å†µï¼Œè¯·æ£€æŸ¥ `pgAdmin 4` ä¸­æ˜¯å¦èƒ½çœ‹åˆ°å·²åˆ›å»ºçš„ `space_api` æ•°æ®åº“ã€‚