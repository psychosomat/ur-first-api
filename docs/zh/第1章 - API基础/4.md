# **ç¬¬ 1.4 ç« ï¼šREST API ç»“æ„**
**å­¦ä¹ æ—¶é—´ï¼š** 45 åˆ†é’Ÿ

---

#### **1. REST APIï¼šç©ºé—´ç«™æ¶æ„**
æƒ³è±¡ä¸€ä¸ªç©ºé—´ç«™ï¼Œæ¯ä¸ªæ¨¡å—éƒ½å…·æœ‰ï¼š

- **æ ‡å‡†å¯¹æ¥ç«¯å£**ï¼ˆç»Ÿä¸€æ¥å£ï¼‰

- **æ˜ç¡®çš„ä¸“ä¸šåˆ†å·¥**ï¼ˆå±…ä½èˆ±ã€å®éªŒå®¤ã€å­˜å‚¨èˆ±ï¼‰

- **åæ ‡ç³»ç»Ÿ**ï¼ˆç²¾ç¡®ä½ç½®ï¼‰

**REST (Representational State Transfer)** API éµå¾ªç›¸åŒçš„åŸåˆ™ï¼š

- æ‰€æœ‰èµ„æºç»Ÿä¸€æ¥å£

- ç»„ä»¶æ˜ç¡®åˆ†ç¦»

- é€šè¿‡ URI è¿›è¡Œå¯»å€ï¼ˆç©ºé—´åæ ‡ï¼‰

> ğŸ’¡ **æ ¸å¿ƒæ€æƒ³ï¼š**

> æ¯ä¸ªèµ„æºï¼ˆè¡Œæ˜Ÿã€ç«ç®­ã€å®‡èˆªå‘˜ï¼‰éƒ½æœ‰ä¸€ä¸ªå”¯ä¸€çš„ URL åœ°å€ï¼Œå¹¶é€šè¿‡ HTTP æ–¹æ³•è¿›è¡Œäº¤äº’ã€‚

---

#### **2. å®‡å®™ç±»æ¯”ä¸­çš„ REST 6 å¤§åŸåˆ™**
| REST åŸåˆ™          | å›½é™…ç©ºé—´ç«™ (ISS) ç±»æ¯”            | å¯¹ API çš„æ„ä¹‰                     |
|--------------------|----------------------------------|------------------------------------|
| **ç»Ÿä¸€æ¥å£**       | æ ‡å‡†å¯¹æ¥ç«¯å£                     | æ‰€æœ‰è¯·æ±‚è§„åˆ™ä¸€è‡´                 |
| **æ— çŠ¶æ€ (Stateless)** | æ¯æ¡æŒ‡ä»¤è‡ªç»™è‡ªè¶³                 | æœåŠ¡å™¨ä¸å­˜å‚¨å®¢æˆ·ç«¯çŠ¶æ€           |
| **ç¼“å­˜ (Caching)** | æœ¬åœ°è¡¥ç»™å“å‚¨å¤‡                   | ä¿å­˜é¢‘ç¹å“åº”                     |
| **å®¢æˆ·ç«¯-æœåŠ¡å™¨**  | æ˜ç¡®åˆ†ç¦»ï¼šä»»åŠ¡æ§åˆ¶ä¸­å¿ƒ â†” ç©ºé—´ç«™ | ç»„ä»¶ç‹¬ç«‹å‘å±•                     |
| **åˆ†å±‚ç³»ç»Ÿ**       | ä¸­ç»§å«æ˜Ÿ                         | ä»£ç†ã€è´Ÿè½½å‡è¡¡å™¨                 |
| **æŒ‰éœ€ä»£ç  (Code on Demand)** | ä¸ºå®éªŒä¸‹è½½è½¯ä»¶                   | (å¯é€‰) ä¼ è¾“è„šæœ¬                  |

---

#### **3. èµ„æºä¸ URIï¼šå®‡å®™åæ ‡**
API ä¸­çš„æ¯ä¸ªå¯¹è±¡éƒ½æ˜¯ä¸€ä¸ªå…·æœ‰å”¯ä¸€åœ°å€çš„èµ„æºï¼š
```
https://api.spacexdata.com/v4/    â† åŸºç¡€ URL
          rockets/            â† ç«ç®­é›†åˆ
          rockets/5e9d0d95eda69973a809d1ec â† ç‰¹å®šç«ç®­ (æŒ‰ ID)
```

**å®‡å®™èµ„æºç¤ºä¾‹ï¼š**

- `GET /stars` â†’ æ˜Ÿæ˜Ÿåˆ—è¡¨
- `GET /stars/sirius` â†’ å¤©ç‹¼æ˜Ÿæ•°æ®
- `POST /satellites` â†’ å‘å°„æ–°å«æ˜Ÿ
- `PUT /missions/artemis` â†’ æ›´æ–°ä»»åŠ¡

**URI å±‚çº§ç»“æ„å›¾ï¼š**
```
[åŸºç¡€ URL]
â”œâ”€â”€ /planets          â†’ è¡Œæ˜Ÿé›†åˆ
â”‚   â”œâ”€â”€ /mars         â†’ â€œç«æ˜Ÿâ€èµ„æº
â”‚   â””â”€â”€ /venus        â†’ â€œé‡‘æ˜Ÿâ€èµ„æº
â””â”€â”€ /launches         â†’ å‘å°„é›†åˆ
    â”œâ”€â”€ /upcoming     â†’ å­é›†åˆ
    â””â”€â”€ /latest       â†’ èµ„æº
```

---

#### **4. é€šè¿‡ HTTP æ–¹æ³•è¿›è¡Œ CRUD æ“ä½œ**
| æ“ä½œ     | HTTP æ–¹æ³• | ç¤ºä¾‹ (ç©ºé—´ç«™)          | æœåŠ¡å™¨å“åº”     |
|----------|-----------|------------------------|----------------|
| **åˆ›å»º (Create)** | `POST`    | å‘é€æ–°æ¨¡å—             | `201 Created`  |
| **è¯»å– (Read)**   | `GET`     | è¯·æ±‚æ¨¡å—æ•°æ®           | `200 OK`       |
| **æ›´æ–° (Update)** | `PUT`     | é‡æ–°é…ç½®æ¨¡å—           | `200 OK`       |
| **åˆ é™¤ (Delete)** | `DELETE`  | è„±ç¦»æ—§æ¨¡å—             | `204 No Content` |

**âš¡ ä»£ç ç¤ºä¾‹ (æ·»åŠ å«æ˜Ÿ)ï¼š**
```python
import requests

# ä½¿ç”¨æ¨¡æ‹Ÿèµ„æºåˆ›å»ºçš„æµ‹è¯•æœåŠ¡
new_post = {
    "title": "New Telescope Launch", # æ–°æœ›è¿œé•œå‘å°„
    "body": "Hubble-2 is ready for deployment.", # èµ«ä¼¯2å·å·²å‡†å¤‡å¥½éƒ¨ç½²ã€‚
    "userId": 1
}

# ç”¨äºæ¼”ç¤ºè¯·æ±‚å¤´çš„å‡è®¾æ€§ API å¯†é’¥
headers = {
    "Authorization": "Bearer YOUR_DEMO_KEY",
    "Content-Type": "application/json; charset=UTF-8"
}

response = requests.post(
    "https://jsonplaceholder.typicode.com/posts",
    json=new_post,
    headers=headers
)

if response.status_code == 201:
    print("âœ… å…³äºæ–°å«æ˜Ÿçš„å¸–å­å·²æˆåŠŸåˆ›å»ºï¼")
    print("æœåŠ¡å™¨å“åº”ï¼š")
    print(response.json())
else:
    print(f"âŒ é”™è¯¯ï¼çŠ¶æ€ç : {response.status_code}")
```

---

#### **5. API ç‰ˆæœ¬æ§åˆ¶ï¼šç©ºé—´ç«™çš„æ¼”å˜**
å°±åƒå›½é™…ç©ºé—´ç«™æ›´æ–°æ¨¡å—ä¸€æ ·ï¼ˆâ€œæ›™å…‰â€å·æ¨¡å— â†’ â€œç§‘å­¦â€å·æ¨¡å—ï¼‰ï¼ŒAPI ä¹Ÿä¼šå˜æ›´ç‰ˆæœ¬ï¼š

- åœ¨ URL ä¸­ï¼š`https://api.spacex.com/v4/rockets`
- åœ¨è¯·æ±‚å¤´ä¸­ï¼š`Accept: application/vnd.spacex-v5+json`

**ä¸ºä½•é‡è¦ï¼š**

- v1ï¼šåŸºæœ¬åŠŸèƒ½
- v2ï¼šæ·»åŠ äº†æ–°å­—æ®µ
- v3ï¼šå“åº”ç»“æ„å‘ç”Ÿå˜åŒ–

> âš ï¸ **æç¤ºï¼š** å§‹ç»ˆåœ¨è¯·æ±‚ä¸­æŒ‡å®šç‰ˆæœ¬ï¼Œå¦åˆ™â€œå¯¹æ¥â€å¯èƒ½ä¼šå¤±è´¥ï¼

---

#### **6. è¶…åª’ä½“ (HATEOAS)ï¼šå¤ªç©ºå¯¼èˆª**
API å“åº”åŒ…å«æŒ‡å‘ç›¸å…³èµ„æºçš„é“¾æ¥ â€” å°±åƒç©ºé—´ç«™åœ°å›¾ä¸€æ ·ï¼š
```json
{
  "id": "iss",
  "name": "å›½é™…ç©ºé—´ç«™",
  "crew": 7,
  "_links": {
    "self": { "href": "/stations/iss" },
    "modules": { "href": "/stations/iss/modules" },
    "schedule": { "href": "/stations/iss/schedule" }
  }
}
```

---

#### **å·©å›ºçŸ¥è¯†çš„æµ‹éªŒ**


<style>
    #quiz-container {
        border-radius: 8px;
        padding: 20px;
        margin-top: 20px;
        box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    }
    .question {
        margin-bottom: 15px;
    }
    .question p {
        font-weight: bold;
        margin-bottom: 10px;
    }
    #quiz-container label {
        display: block;
        margin-bottom: 5px;
        cursor: pointer;
        padding: 5px;
        border-radius: 4px;
    }
    #quiz-container button {
        border: none;
        padding: 10px 20px;
        border-radius: 5px;
        cursor: pointer;
        font-size: 16px;
        margin-top: 10px;
    }
    #quiz-container button:hover {
    }
    #quiz-results {
        margin-top: 20px;
        padding: 15px;
        border-radius: 5px;
    }
</style>

<div id="quiz-container">
  <form id="quiz-form">
    <div class="question">
      <p>1. REST çš„å…¨ç§°æ˜¯ï¼š</p>
      <label><input type="radio" name="q1" value="a"> a) Rocket Engine System Transfer</label>
      <label><input type="radio" name="q1" value="b"> b) Representational State Transfer</label>
      <label><input type="radio" name="q1" value="c"> c) Remote Space Technology</label>
    </div>
    <div class="question">
      <p>2. â€œæ— çŠ¶æ€â€åŸåˆ™æ„å‘³ç€ï¼š</p>
      <label><input type="radio" name="q2" value="a"> a) æœåŠ¡å™¨å­˜å‚¨è¯·æ±‚å†å²</label>
      <label><input type="radio" name="q2" value="b"> b) æ¯ä¸ªè¯·æ±‚éƒ½æ˜¯è‡ªç»™è‡ªè¶³çš„</label>
      <label><input type="radio" name="q2" value="c"> c) æ•°æ®ä»…é€šè¿‡ SSL ä¼ è¾“</label>
    </div>
    <div class="question">
      <p>3. è·å– Falcon Heavy ç«ç®­æ•°æ®çš„ URIï¼š</p>
      <label><input type="radio" name="q3" value="a"> a) POST /rockets/falcon-heavy</label>
      <label><input type="radio" name="q3" value="b"> b) GET /falcon-heavy</label>
      <label><input type="radio" name="q3" value="c"> c) GET /rockets/falcon-heavy</label>
    </div>
    <div class="question">
      <p>4. ç”¨äºå®Œå…¨æ›´æ–°èµ„æºçš„æ–¹æ³•ï¼š</p>
      <label><input type="radio" name="q4" value="a"> a) PATCH</label>
      <label><input type="radio" name="q4" value="b"> b) POST</label>
      <label><input type="radio" name="q4" value="c"> c) PUT</label>
    </div>
    <div class="question">
      <p>5. API ä¸­çš„ HATEOAS æ˜¯æŒ‡ï¼š</p>
      <label><input type="radio" name="q5" value="a"> a) æŒ‡å‘ç›¸å…³èµ„æºçš„é“¾æ¥ç³»ç»Ÿ</label>
      <label><input type="radio" name="q5" value="b"> b) åŠ å¯†åè®®</label>
      <label><input type="radio" name="q5" value="c"> c) æŸ¥è¯¢è¯­è¨€</label>
    </div>
    <button type="button" onclick="checkQuizAnswers()">æ£€æŸ¥</button>
  </form>
  <div id="quiz-results" style="display:none;"></div>
</div>

<script>
  function checkQuizAnswers() {
    const correctAnswers = { q1: 'b', q2: 'b', q3: 'c', q4: 'c', q5: 'a' };
    const form = document.getElementById('quiz-form');
    const resultsContainer = document.getElementById('quiz-results');
    let score = 0;
    let resultsHTML = '<h4>ç»“æœï¼š</h4><ul>';

    for (const [question, correctAnswer] of Object.entries(correctAnswers)) {
      const questionDiv = form.querySelector(`input[name="${question}"]`).closest('.question');
      const labels = questionDiv.querySelectorAll('label');
      labels.forEach(l => {
          l.style.color = 'inherit';
          l.style.fontWeight = 'normal';
          l.style.border = 'none';
      });

      const userAnswer = form.elements[question] ? form.elements[question].value : undefined;

      if (userAnswer) {
        const selectedLabel = form.querySelector(`input[name="${question}"][value="${userAnswer}"]`).parentElement;
        if (userAnswer === correctAnswer) {
          score++;
          selectedLabel.style.fontWeight = 'bold';
          resultsHTML += `<li>é—®é¢˜ ${question.slice(1)}: <span style="color:green;">æ­£ç¡®ï¼</span></li>`;
        } else {
          selectedLabel.style.fontWeight = 'bold';
          const correctLabel = form.querySelector(`input[name="${question}"][value="${correctAnswer}"]`).parentElement;
          correctLabel.style.fontWeight = 'bold';
          resultsHTML += `<li>é—®é¢˜ ${question.slice(1)}: <span style="color:red;">é”™è¯¯ã€‚</span>æ­£ç¡®ç­”æ¡ˆï¼š<b>${correctAnswer.toUpperCase()}</b></li>`;
        }
      } else {
        resultsHTML += `<li>é—®é¢˜ ${question.slice(1)}: <span style="color:orange;">æœªä½œç­”ã€‚</span></li>`;
      }
    }

    resultsHTML += `</ul><p><b>æ‚¨çš„å¾—åˆ†ï¼š${score} / ${Object.keys(correctAnswers).length}</b></p>`;
    resultsContainer.innerHTML = resultsHTML;
    resultsContainer.style.display = 'block';
  }
</script>

---

**ğŸš€ æœ¬ç« æ€»ç»“ï¼š**

REST API æ˜¯ä¸€ä¸ªæ ‡å‡†åŒ–çš„ç½‘ç»œæœåŠ¡â€œç©ºé—´ç«™æ¶æ„â€ã€‚è¯·è®°ä½ï¼š

- èµ„æº = å¯¹è±¡ï¼ˆç«ç®­ã€è¡Œæ˜Ÿï¼‰
- URI = å¯¹è±¡åæ ‡
- HTTP æ–¹æ³• = æ§åˆ¶å‘½ä»¤
- ç‰ˆæœ¬ = ç©ºé—´ç«™ç°ä»£åŒ–å‡çº§

**å‡†å¤‡å°±ç»ªï¼** åœ¨ä¸‹ä¸€ç« ä¸­ï¼Œæˆ‘ä»¬å°†å‘å°„ä¸€ä¸ªâ€œæµ‹è¯•æ¢æµ‹å™¨â€â€”â€”å­¦ä¹ å¦‚ä½•é€šè¿‡ Postman æµ‹è¯• APIã€‚

> **ğŸ“Œ å®è·µï¼š**
ç ”ç©¶ [SpaceX API](https://docs.spacexdata.com/) çš„ç»“æ„ï¼Œå¹¶å°è¯•æ‰§è¡Œï¼š

> `GET https://api.spacexdata.com/v4/launches/latest` â€” è¯·æ³¨æ„ URI å’Œ JSON ç»“æ„ï¼