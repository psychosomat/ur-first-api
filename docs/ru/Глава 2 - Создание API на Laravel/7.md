# **–ì–ª–∞–≤–∞ 2.7: –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫**
**–í—Ä–µ–º—è –∏–∑—É—á–µ–Ω–∏—è:** 40 –º–∏–Ω—É—Ç

---

#### **1. –ü–æ—á–µ–º—É —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ –æ—à–∏–±–∫–∏ ‚Äî —ç—Ç–æ –ø–ª–æ—Ö–æ?**

–ï—Å–ª–∏ –≤ –≤–∞—à–µ–º Laravel-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –æ—à–∏–±–∫–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –Ω–µ –Ω–∞–π–¥–µ–Ω–∞ –∑–∞–ø–∏—Å—å –≤ –±–∞–∑–µ), –∞ –≤—ã —ç—Ç–æ –Ω–∏–∫–∞–∫ –Ω–µ –æ–±—Ä–∞–±–æ—Ç–∞–ª–∏, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —É–≤–∏–¥–∏—Ç –æ–≥—Ä–æ–º–Ω—É—é HTML-—Å—Ç—Ä–∞–Ω–∏—Ü—É —Å –æ—Ç–ª–∞–¥–æ—á–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –∏–ª–∏ –Ω–µ–∏–Ω—Ñ–æ—Ä–º–∞—Ç–∏–≤–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ "Server Error".

–î–ª—è API —ç—Ç–æ –∫–∞—Ç–∞—Å—Ç—Ä–æ—Ñ–∞. –í–∞—à–µ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –æ–∂–∏–¥–∞–µ—Ç –ø–æ–ª—É—á–∏—Ç—å JSON, –∞ –Ω–µ HTML. –ù–∞—à–∞ –∑–∞–¥–∞—á–∞ ‚Äî –ø–µ—Ä–µ—Ö–≤–∞—Ç–∏—Ç—å –ª—é–±—É—é –æ—à–∏–±–∫—É –∏ –ø—Ä–µ–≤—Ä–∞—Ç–∏—Ç—å –µ–µ –≤ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π JSON-–æ—Ç–≤–µ—Ç.

---

#### **2. –¶–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–π –¥–∏—Å–ø–µ—Ç—á–µ—Ä –æ—à–∏–±–æ–∫: `bootstrap/app.php`**

–í —Å—Ç–∞—Ä—ã—Ö –≤–µ—Ä—Å–∏—è—Ö Laravel –±—ã–ª –≥—Ä–æ–º–æ–∑–¥–∫–∏–π —Ñ–∞–π–ª `App\Exceptions\Handler.php`. –í Laravel 11/12 –≤—Å–µ —Å—Ç–∞–ª–æ –≥–æ—Ä–∞–∑–¥–æ –ø—Ä–æ—â–µ –∏ —ç–ª–µ–≥–∞–Ω—Ç–Ω–µ–µ. –¶–µ–Ω—Ç—Ä —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –æ—à–∏–±–∫–∞–º–∏ —Ç–µ–ø–µ—Ä—å –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –ø—Ä—è–º–æ –≤ —Ñ–∞–π–ª–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –≤–∞—à–µ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è ‚Äî `bootstrap/app.php`.

–û—Ç–∫—Ä–æ–π—Ç–µ `bootstrap/app.php`. –í —Å–∞–º–æ–º –Ω–∏–∑—É –≤—ã —É–≤–∏–¥–∏—Ç–µ –±–ª–æ–∫ `.withExceptions(...)`. –≠—Ç–æ –∏ –µ—Å—Ç—å –Ω–∞—à "—Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–π –¥–∏—Å–ø–µ—Ç—á–µ—Ä".

```php
<?php
// bootstrap/app.php

return Application::configure(basePath: dirname(__DIR__))
    ->withRouting(
        web: __DIR__.'/../routes/web.php',
        api: __DIR__.'/../routes/api.php',
        commands: __DIR__.'/../routes/console.php',
        health: '/up',
    )
    ->withMiddleware(function (Middleware $middleware) {
        // ...
    })
    ->withExceptions(function (Exceptions $exceptions) {
        // <-- –í–û–¢ –ó–î–ï–°–¨ –ú–´ –ë–£–î–ï–ú –†–ê–ë–û–¢–ê–¢–¨
    })->create();
```

---

#### **3. –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º —Å–∞–º—É—é —á–∞—Å—Ç—É—é –æ—à–∏–±–∫—É: "–ù–µ –Ω–∞–π–¥–µ–Ω–æ" (404)**

–°–∞–º–∞—è —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–Ω–∞—è –æ—à–∏–±–∫–∞ –≤ API ‚Äî —ç—Ç–æ –∫–æ–≥–¥–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç —Ä–µ—Å—É—Ä—Å, –∫–æ—Ç–æ—Ä–æ–≥–æ –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç (–Ω–∞–ø—Ä–∏–º–µ—Ä, `GET /api/planets/999`). Laravel –≤ —ç—Ç–æ–º —Å–ª—É—á–∞–µ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –∏—Å–∫–ª—é—á–µ–Ω–∏–µ `ModelNotFoundException` –∏–ª–∏ `NotFoundHttpException`. –î–∞–≤–∞–π—Ç–µ –∏—Ö –ø–µ—Ä–µ—Ö–≤–∞—Ç–∏–º.

–î–æ–±–∞–≤—å—Ç–µ —Å–ª–µ–¥—É—é—â–∏–π –∫–æ–¥ –≤–Ω—É—Ç—Ä—å `.withExceptions(...)`:

```php
<?php
// bootstrap/app.php

->withExceptions(function (Exceptions $exceptions) {

    // –ü–µ—Ä–µ—Ö–≤–∞—Ç—ã–≤–∞–µ–º –∏—Å–∫–ª—é—á–µ–Ω–∏–µ, –∫–æ–≥–¥–∞ –º–æ–¥–µ–ª—å –Ω–µ –Ω–∞–π–¥–µ–Ω–∞ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö
    $exceptions->render(function (ModelNotFoundException $e, Request $request) {
        // –ü—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ –∑–∞–ø—Ä–æ—Å –ø—Ä–∏—à–µ–ª –∏–º–µ–Ω–Ω–æ –Ω–∞ –Ω–∞—à API
        if ($request->is('api/*')) {
            return response()->json([
                'message' => '–ó–∞–ø—Ä–∞—à–∏–≤–∞–µ–º—ã–π —Ä–µ—Å—É—Ä—Å –Ω–µ –Ω–∞–π–¥–µ–Ω –≤ –Ω–∞—à–µ–π –≥–∞–ª–∞–∫—Ç–∏–∫–µ.'
            ], 404);
        }
    });

    // –ü–µ—Ä–µ—Ö–≤–∞—Ç—ã–≤–∞–µ–º –∏—Å–∫–ª—é—á–µ–Ω–∏–µ, –∫–æ–≥–¥–∞ —Å–∞–º –º–∞—Ä—à—Ä—É—Ç –Ω–µ –Ω–∞–π–¥–µ–Ω
    $exceptions->render(function (NotFoundHttpException $e, Request $request) {
        if ($request->is('api/*')) {
            return response()->json([
                'message' => '–¢–∞–∫–æ–≥–æ –∫–æ—Å–º–∏—á–µ—Å–∫–æ–≥–æ –º–∞—Ä—à—Ä—É—Ç–∞ –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç.'
            ], 404);
        }
    });

})->create();
```
**–ß—Ç–æ –º—ã —Å–¥–µ–ª–∞–ª–∏?**

1.  `$exceptions->render(...)` ‚Äî –º—ã —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ–º "–æ–±—Ä–∞–±–æ—Ç—á–∏–∫". –û–Ω –≥–æ–≤–æ—Ä–∏—Ç: "–ï—Å–ª–∏ –ø—Ä–æ–∏–∑–æ–π–¥–µ—Ç –∏—Å–∫–ª—é—á–µ–Ω–∏–µ —Ç–∏–ø–∞ `ModelNotFoundException`, –≤—ã–ø–æ–ª–Ω–∏ —ç—Ç–æ—Ç –∫–æ–¥".
2.  `if ($request->is('api/*'))` ‚Äî —ç—Ç–æ –≤–∞–∂–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞. –û–Ω–∞ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç, —á—Ç–æ –Ω–∞—à –∫—Ä–∞—Å–∏–≤—ã–π JSON-–æ—Ç–≤–µ—Ç –±—É–¥–µ—Ç –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å—Å—è —Ç–æ–ª—å–∫–æ –¥–ª—è API-–∑–∞–ø—Ä–æ—Å–æ–≤, –Ω–µ –∑–∞—Ç—Ä–∞–≥–∏–≤–∞—è –æ–±—ã—á–Ω—ã–µ –≤–µ–±-—Å—Ç—Ä–∞–Ω–∏—Ü—ã.
3.  `return response()->json(...)` ‚Äî –º—ã —Å–æ–∑–¥–∞–µ–º –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ–º —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π JSON-–æ—Ç–≤–µ—Ç —Å –∫–æ–¥–æ–º 404.

–¢–µ–ø–µ—Ä—å, –µ—Å–ª–∏ –≤—ã –∑–∞–ø—Ä–æ—Å–∏—Ç–µ –Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â—É—é –ø–ª–∞–Ω–µ—Ç—É, –≤–º–µ—Å—Ç–æ —É—Ä–æ–¥–ª–∏–≤–æ–π HTML-—Å—Ç—Ä–∞–Ω–∏—Ü—ã –≤—ã –ø–æ–ª—É—á–∏—Ç–µ –∞–∫–∫—É—Ä–∞—Ç–Ω—ã–π JSON.

---

#### **4. –ö–∞—Å—Ç–æ–º–Ω—ã–µ –∏—Å–∫–ª—é—á–µ–Ω–∏—è: –°–æ–∑–¥–∞–µ–º —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–µ "—Å–∏–≥–Ω–∞–ª—ã —Ç—Ä–µ–≤–æ–≥–∏"**

–ò–Ω–æ–≥–¥–∞ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã—Ö –∏—Å–∫–ª—é—á–µ–Ω–∏–π –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ. –ü—Ä–µ–¥—Å—Ç–∞–≤–∏–º, —á—Ç–æ —É –Ω–∞—Å –µ—Å—Ç—å –±–∏–∑–Ω–µ—Å-–ø—Ä–∞–≤–∏–ª–æ: "–Ω–µ–ª—å–∑—è —É–¥–∞–ª—è—Ç—å –ø–ª–∞–Ω–µ—Ç—É '–ó–µ–º–ª—è'". –ï—Å–ª–∏ –∫—Ç–æ-—Ç–æ –ø–æ–ø—ã—Ç–∞–µ—Ç—Å—è —ç—Ç–æ —Å–¥–µ–ª–∞—Ç—å, –º—ã –¥–æ–ª–∂–Ω—ã –≤–µ—Ä–Ω—É—Ç—å –æ—Å–º—ã—Å–ª–µ–Ω–Ω—É—é –æ—à–∏–±–∫—É.

**–®–∞–≥ 1: –°–æ–∑–¥–∞–µ–º —Å–≤–æ–π –∫–ª–∞—Å—Å –∏—Å–∫–ª—é—á–µ–Ω–∏—è**
–í—ã–ø–æ–ª–Ω–∏–º –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ:
```bash
php artisan make:exception CannotDeleteEarthException
```

**–®–∞–≥ 2: –ò—Å–ø–æ–ª—å–∑—É–µ–º –µ–≥–æ –≤ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–µ**
–û—Ç–∫—Ä–æ–µ–º `PlanetController.php` –∏ –∏–∑–º–µ–Ω–∏–º –º–µ—Ç–æ–¥ `destroy`:

```php
<?php
// app/Http/Controllers/PlanetController.php
use App\Exceptions\CannotDeleteEarthException; // <-- –ò–º–ø–æ—Ä—Ç–∏—Ä—É–µ–º –Ω–∞—à–µ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ
use App\Models\Planet;

public function destroy(Planet $planet)
{
    // –ù–∞—à–µ –Ω–æ–≤–æ–µ –±–∏–∑–Ω–µ—Å-–ø—Ä–∞–≤–∏–ª–æ
    if (strtolower($planet->name) === '–∑–µ–º–ª—è') {
        throw new CannotDeleteEarthException('–£–¥–∞–ª–µ–Ω–∏–µ –ø–ª–∞–Ω–µ—Ç—ã –ó–µ–º–ª—è –∑–∞–ø—Ä–µ—â–µ–Ω–æ –ì–∞–ª–∞–∫—Ç–∏—á–µ—Å–∫–∏–º –ö–æ–¥–µ–∫—Å–æ–º.');
    }

    $planet->delete();
    return response()->json(null, 204);
}
```
–¢–µ–ø–µ—Ä—å, –µ—Å–ª–∏ –∫—Ç–æ-—Ç–æ –ø–æ–ø—ã—Ç–∞–µ—Ç—Å—è –≤—ã–ø–æ–ª–Ω–∏—Ç—å `DELETE /api/planets/1` (–≥–¥–µ 1 ‚Äî —ç—Ç–æ ID –ó–µ–º–ª–∏), –Ω–∞—à –∫–æ–¥ –≤—ã–±—Ä–æ—Å–∏—Ç –∏—Å–∫–ª—é—á–µ–Ω–∏–µ `CannotDeleteEarthException`.

**–®–∞–≥ 3: –£—á–∏–º Laravel –∫—Ä–∞—Å–∏–≤–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –Ω–∞—à—É "—Ç—Ä–µ–≤–æ–≥—É"**
–í–µ—Ä–Ω–µ–º—Å—è –≤ `bootstrap/app.php` –∏ –¥–æ–±–∞–≤–∏–º –Ω–æ–≤—ã–π –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –¥–ª—è –Ω–∞—à–µ–≥–æ –∏—Å–∫–ª—é—á–µ–Ω–∏—è.

```php
<?php
// bootstrap/app.php

->withExceptions(function (Exceptions $exceptions) {

    // –ù–∞—à –Ω–æ–≤—ã–π –æ–±—Ä–∞–±–æ—Ç—á–∏–∫
    $exceptions->render(function (CannotDeleteEarthException $e, Request $request) {
        return response()->json([
            'message' => '–û–ø–µ—Ä–∞—Ü–∏—è –∑–∞–ø—Ä–µ—â–µ–Ω–∞.',
            'details' => $e->getMessage() // –ü–æ–ª—É—á–∞–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ, –∫–æ—Ç–æ—Ä–æ–µ –º—ã –ø–µ—Ä–µ–¥–∞–ª–∏ –≤ throw
        ], 403); // 403 Forbidden - "–î–æ—Å—Ç—É–ø –∑–∞–ø—Ä–µ—â–µ–Ω"
    });

    // ... (–æ—Å—Ç–∞–ª—å–Ω—ã–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –¥–ª—è 404)

})->create();
```
–ì–æ—Ç–æ–≤–æ! –ú—ã —Å–æ–∑–¥–∞–ª–∏ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–µ –∏–º–µ–Ω–æ–≤–∞–Ω–Ω–æ–µ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ, –∫–æ—Ç–æ—Ä–æ–µ –¥–µ–ª–∞–µ—Ç –∫–æ–¥ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–∞ —á–∏—â–µ, –∏ –Ω–∞—É—á–∏–ª–∏ Laravel –ø—Ä–µ–≤—Ä–∞—â–∞—Ç—å –µ–≥–æ –≤ –∫—Ä–∞—Å–∏–≤—ã–π, –æ—Å–º—ã—Å–ª–µ–Ω–Ω—ã–π JSON-–æ—Ç–≤–µ—Ç —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º HTTP-—Å—Ç–∞—Ç—É—Å–æ–º.

---

#### **5. –û–±—Ä–∞–±–æ—Ç–∫–∞ –≤—Å–µ—Ö –æ—Å—Ç–∞–ª—å–Ω—ã—Ö —Å–±–æ–µ–≤ (500 Internal Server Error)**

–ß—Ç–æ –¥–µ–ª–∞—Ç—å —Å–æ –≤—Å–µ–º–∏ –æ—Å—Ç–∞–ª—å–Ω—ã–º–∏, –Ω–µ–ø—Ä–µ–¥–≤–∏–¥–µ–Ω–Ω—ã–º–∏ –æ—à–∏–±–∫–∞–º–∏? –ù–∞–ø—Ä–∏–º–µ—Ä, –µ—Å–ª–∏ –æ—Ç–≤–∞–ª–∏–ª–∞—Å—å –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –∏–ª–∏ –≤ –∫–æ–¥–µ —Å–∏–Ω—Ç–∞–∫—Å–∏—á–µ—Å–∫–∞—è –æ—à–∏–±–∫–∞. –î–ª—è —ç—Ç–æ–≥–æ –º—ã –º–æ–∂–µ–º –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å "—É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π" –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –¥–ª—è —Å–∞–º–æ–≥–æ –æ–±—â–µ–≥–æ —Ç–∏–ø–∞ –æ—à–∏–±–æ–∫ ‚Äî `Throwable`.

**–í–∞–∂–Ω–æ:** –≠—Ç–æ—Ç –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å **–ø–æ—Å–ª–µ–¥–Ω–∏–º**, —á—Ç–æ–±—ã –Ω–µ –ø–µ—Ä–µ—Ö–≤–∞—Ç—ã–≤–∞—Ç—å –±–æ–ª–µ–µ —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ –∏—Å–∫–ª—é—á–µ–Ω–∏—è, –∫–æ—Ç–æ—Ä—ã–µ –º—ã –æ–ø—Ä–µ–¥–µ–ª–∏–ª–∏ –≤—ã—à–µ.

```php
<?php
// bootstrap/app.php

->withExceptions(function (Exceptions $exceptions) {

    // ... (–æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –¥–ª—è CannotDeleteEarthException –∏ 404)

    // –£–ù–ò–í–ï–†–°–ê–õ–¨–ù–´–ô –û–ë–†–ê–ë–û–¢–ß–ò–ö (–≤ —Å–∞–º–æ–º –∫–æ–Ω—Ü–µ)
    $exceptions->render(function (Throwable $e, Request $request) {
        if ($request->is('api/*')) {
            // –í —Ä–µ–∂–∏–º–µ –æ—Ç–ª–∞–¥–∫–∏ –º–æ–∂–Ω–æ –ø–æ–∫–∞–∑–∞—Ç—å –Ω–∞—Å—Ç–æ—è—â–µ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ
            $message = config('app.debug')
                ? '–ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞: ' . $e->getMessage()
                : '–ù–∞ –±–æ—Ä—Ç—É –ø—Ä–æ–∏–∑–æ—à–ª–∞ –Ω–µ–ø—Ä–µ–¥–≤–∏–¥–µ–Ω–Ω–∞—è –æ—à–∏–±–∫–∞. –ò–Ω–∂–µ–Ω–µ—Ä—ã —É–∂–µ –≤—ã–∑–≤–∞–Ω—ã.';

            return response()->json(['message' => $message], 500);
        }
    });

})->create();
```

–¢–µ–ø–µ—Ä—å –ª—é–±–æ–µ "–Ω–µ–∏–∑–≤–µ—Å—Ç–Ω–æ–µ" –∏—Å–∫–ª—é—á–µ–Ω–∏–µ –±—É–¥–µ—Ç –∞–∫–∫—É—Ä–∞—Ç–Ω–æ –ø–µ—Ä–µ—Ö–≤–∞—á–µ–Ω–æ –∏ –ø—Ä–µ–≤—Ä–∞—â–µ–Ω–æ –≤ JSON —Å –∫–æ–¥–æ–º 500, –Ω–µ –ª–æ–º–∞—è –≤–∞—à–µ API –∏ –Ω–µ –ø–æ–∫–∞–∑—ã–≤–∞—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –ª–∏—à–Ω–µ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏.

---

#### **6. –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—à–∏–±–æ–∫: –ß–µ—Ä–Ω—ã–π —è—â–∏–∫ –∫–æ—Å–º–∏—á–µ—Å–∫–æ–≥–æ –∫–æ—Ä–∞–±–ª—è**
–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è –≤ `config/logging.php`:
```php
<?php
'channels' => [
    'space_api' => [
        'driver' => 'daily',
        'path' => storage_path('logs/space_api.log'),
        'level' => 'error',
        'days' => 14,
    ],
],
```

**–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∑–∞–ø–∏—Å–∏ –≤ –ª–æ–≥:**
```php
<?php
try {
    // –ö–æ–¥ —Å —Ä–∏—Å–∫–æ–º –æ—à–∏–±–∫–∏
} catch (Exception $e) {
    Log::channel('space_api')->error('–û—à–∏–±–∫–∞ –¥–æ—Å—Ç—É–ø–∞ –∫ –ø–ª–∞–Ω–µ—Ç–∞–º', [
        'exception' => $e,
        'request' => request()->all(),
        'user_id' => auth()->id()
    ]);
    throw $e;
}
```

---

#### **–ö–≤–∏–∑ –¥–ª—è –∑–∞–∫—Ä–µ–ø–ª–µ–Ω–∏—è**

<style>
    #quiz-container {
        border-radius: 8px;
        padding: 20px;
        margin-top: 20px;
        box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    }
    .question {
        margin-bottom: 15px;
    }
    .question p {
        font-weight: bold;
        margin-bottom: 10px;
    }
    #quiz-container label {
        display: block;
        margin-bottom: 5px;
        cursor: pointer;
        padding: 5px;
        border-radius: 4px;
    }
    #quiz-container button {
        border: none;
        padding: 10px 20px;
        border-radius: 5px;
        cursor: pointer;
        font-size: 16px;
        margin-top: 10px;
    }
    #quiz-container button:hover {
    }
    #quiz-results {
        margin-top: 20px;
        padding: 15px;
        border-radius: 5px;
    }
</style>

<div id="quiz-container">
  <form id="quiz-form">
    <div class="question">
      <p>1. HTTP-—Å—Ç–∞—Ç—É—Å –¥–ª—è "–ü–ª–∞–Ω–µ—Ç–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω–∞:</p>
      <label><input type="radio" name="q1" value="a"> a) 400</label>
      <label><input type="radio" name="q1" value="b"> b) 404</label>
      <label><input type="radio" name="q1" value="c"> c) 500</label>
    </div>
    <div class="question">
      <p>2. –ö–ª–∞—Å—Å –¥–ª—è –≥–ª–æ–±–∞–ª—å–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫:</p>
      <label><input type="radio" name="q2" value="a"> a) Handler.php</label>
      <label><input type="radio" name="q2" value="b"> b) ErrorController.php</label>
      <label><input type="radio" name="q2" value="c"> c) Middleware/Error.php</label>
    </div>
    <div class="question">
      <p>3. –ú–µ—Ç–æ–¥ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∫–∞—Å—Ç–æ–º–Ω–æ–≥–æ –∏—Å–∫–ª—é—á–µ–Ω–∏—è:</p>
      <label><input type="radio" name="q3" value="a"> a) php artisan make:exception</label>
      <label><input type="radio" name="q3" value="b"> b) php artisan exception:create</label>
      <label><input type="radio" name="q3" value="c"> c) php artisan generate:exception</label>
    </div>
    <div class="question">
      <p>4. –ö–∞–Ω–∞–ª –¥–ª—è —Ä–∞–∑–¥–µ–ª—å–Ω–æ–≥–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è –æ—à–∏–±–æ–∫ API:</p>
      <label><input type="radio" name="q4" value="a"> a) –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –≤ config/logging.php</label>
      <label><input type="radio" name="q4" value="b"> b) –ü–∞—Ä–∞–º–µ—Ç—Ä –≤ .env</label>
      <label><input type="radio" name="q4" value="c"> c) –£–∫–∞–∑–∞–Ω–∏–µ –≤ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–µ</label>
    </div>
    <div class="question">
      <p>5. –ì–ª–∞–≤–Ω–æ–µ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–æ —Å–æ–∑–¥–∞–Ω–∏—è –∫–∞—Å—Ç–æ–º–Ω—ã—Ö –∏—Å–∫–ª—é—á–µ–Ω–∏–π:</p>
      <label><input type="radio" name="q5" value="a"> a) –ü–æ–≤—ã—à–µ–Ω–∏–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏</label>
      <label><input type="radio" name="q5" value="b"> b) –°–æ–∑–¥–∞–Ω–∏–µ —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏ –ø–æ–Ω—è—Ç–Ω—ã—Ö –æ—à–∏–±–æ–∫ –¥–ª—è —Å–ø–µ—Ü–∏—Ñ–∏—á–µ—Å–∫–∏—Ö –±–∏–∑–Ω–µ—Å-—Å—Ü–µ–Ω–∞—Ä–∏–µ–≤</label>
      <label><input type="radio" name="q5" value="c"> c) –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤ .env</label>
    </div>
    <button type="button" onclick="checkQuizAnswers()">–ü—Ä–æ–≤–µ—Ä–∏—Ç—å</button>
  </form>
  <div id="quiz-results" style="display:none;"></div>
</div>

<script>
  function checkQuizAnswers() {
    const correctAnswers = { q1: 'b', q2: 'a', q3: 'a', q4: 'a', q5: 'b' };
    const form = document.getElementById('quiz-form');
    const resultsContainer = document.getElementById('quiz-results');
    let score = 0;
    let resultsHTML = '<h4>–†–µ–∑—É–ª—å—Ç–∞—Ç—ã:</h4><ul>';

    for (const [question, correctAnswer] of Object.entries(correctAnswers)) {
      const questionDiv = form.querySelector(`input[name="${question}"]`).closest('.question');
      const labels = questionDiv.querySelectorAll('label');
      labels.forEach(l => {
          l.style.color = 'inherit';
          l.style.fontWeight = 'normal';
          l.style.border = 'none';
      });

      const userAnswer = form.elements[question] ? form.elements[question].value : undefined;

      if (userAnswer) {
        const selectedLabel = form.querySelector(`input[name="${question}"][value="${userAnswer}"]`).parentElement;
        if (userAnswer === correctAnswer) {
          score++;
          selectedLabel.style.fontWeight = 'bold';
          resultsHTML += `<li>–í–æ–ø—Ä–æ—Å ${question.slice(1)}: <span style="color:green;">–í–µ—Ä–Ω–æ!</span></li>`;
        } else {
          selectedLabel.style.fontWeight = 'bold';
          const correctLabel = form.querySelector(`input[name="${question}"][value="${correctAnswer}"]`).parentElement;
          correctLabel.style.fontWeight = 'bold';
          resultsHTML += `<li>–í–æ–ø—Ä–æ—Å ${question.slice(1)}: <span style="color:red;">–ù–µ–≤–µ—Ä–Ω–æ.</span> –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç: <b>${correctAnswer.toUpperCase()}</b></li>`;
        }
      } else {
        resultsHTML += `<li>–í–æ–ø—Ä–æ—Å ${question.slice(1)}: <span style="color:orange;">–ù–µ—Ç –æ—Ç–≤–µ—Ç–∞.</span></li>`;
      }
    }

    resultsHTML += `</ul><p><b>–í–∞—à —Ä–µ–∑—É–ª—å—Ç–∞—Ç: ${score} –∏–∑ ${Object.keys(correctAnswers).length}</b></p>`;
    resultsContainer.innerHTML = resultsHTML;
    resultsContainer.style.display = 'block';
  }
</script>

---

**üöÄ –ò—Ç–æ–≥ –≥–ª–∞–≤—ã:**

–í—ã –æ—Å–Ω–∞—Å—Ç–∏–ª–∏ —Å–≤–æ–µ API –Ω–∞–¥–µ–∂–Ω–æ–π —Å–∏—Å—Ç–µ–º–æ–π —Å–ø–∞—Å–µ–Ω–∏—è:

- üõü –ì–ª–æ–±–∞–ª—å–Ω—ã–π –ø–µ—Ä–µ—Ö–≤–∞—Ç —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã—Ö –æ—à–∏–±–æ–∫
- ü™ê –ö–∞—Å—Ç–æ–º–Ω—ã–µ –∏—Å–∫–ª—é—á–µ–Ω–∏—è —Å –ø–æ–Ω—è—Ç–Ω—ã–º–∏ –∫–æ–¥–∞–º–∏
- üìù –ï–¥–∏–Ω—ã–π JSON-—Ñ–æ—Ä–º–∞—Ç –¥–ª—è –≤—Å–µ—Ö –æ—à–∏–±–æ–∫
- üîç –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å –¥–µ—Ç–∞–ª—è–º–∏ –∏–Ω—Ü–∏–¥–µ–Ω—Ç–∞
- üì° –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —Å–∏—Å—Ç–µ–º–∞–º–∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞

**–ö–æ—Å–º–∏—á–µ—Å–∫–∏–π –∫–æ—Ä–∞–±–ª—å –≥–æ—Ç–æ–≤ –∫ –∞–≤–∞—Ä–∏–π–Ω—ã–º —Å–∏—Ç—É–∞—Ü–∏—è–º!** –í —Ñ–∏–Ω–∞–ª—å–Ω–æ–π –≥–ª–∞–≤–µ —Ä–∞–∑–¥–µ–ª–∞ –º—ã –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–µ–º –≤—Å–µ —Å–∏—Å—Ç–µ–º—ã.

> **üìå –ü—Ä–æ–≤–µ—Ä–∫–∞:**

> 1. –°–æ–∑–¥–∞–π—Ç–µ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ `PlanetNotFoundException`
> 2. –î–æ–±–∞–≤—å—Ç–µ –æ–±—Ä–∞–±–æ—Ç–∫—É 404 –æ—à–∏–±–æ–∫ –≤ ```->withExceptions```
> 3. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ –∑–∞–ø—Ä–æ—Å –∫ –Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π –ø–ª–∞–Ω–µ—Ç–µ

> **‚ö†Ô∏è –ï—Å–ª–∏ –æ—à–∏–±–∫–∏ –Ω–µ –ø–µ—Ä–µ—Ö–≤–∞—Ç—ã–≤–∞—é—Ç—Å—è:**

> - –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ `is('api/*')` —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –≤–∞—à–∏–º —Ä–æ—É—Ç–∞–º
> - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ—Ä—è–¥–æ–∫ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ –≤ `register()`
> - –î–ª—è –∫–∞—Å—Ç–æ–º–Ω—ã—Ö –∏—Å–∫–ª—é—á–µ–Ω–∏–π –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `throw new`
