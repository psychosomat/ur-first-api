# **–ì–ª–∞–≤–∞ 2.6: –í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö**
**–í—Ä–µ–º—è –∏–∑—É—á–µ–Ω–∏—è:** 50 –º–∏–Ω—É—Ç

---

#### **1. –í–∞–ª–∏–¥–∞—Ü–∏—è: –©–∏—Ç –∫–æ—Å–º–∏—á–µ—Å–∫–æ–≥–æ –º–∞—Å—à—Ç–∞–±–∞**
**–í–∞–ª–∏–¥–∞—Ü–∏—è** - —ç—Ç–æ –ø—Ä–æ–≤–µ—Ä–∫–∞ –≤—Ö–æ–¥—è—â–∏—Ö –¥–∞–Ω–Ω—ã—Ö –Ω–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –ø—Ä–∞–≤–∏–ª–∞–º. –ë–µ–∑ –Ω–µ–µ:

- üöÄ –ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –º–æ–≥—É—Ç "—Ä–∞–∑—Ä—É—à–∏—Ç—å" –≤–∞—à—É –±–∞–∑—É
- üåå –ó–ª–æ—É–º—ã—à–ª–µ–Ω–Ω–∏–∫–∏ –º–æ–≥—É—Ç –≤–Ω–µ–¥—Ä–∏—Ç—å –≤—Ä–µ–¥–æ–Ω–æ—Å–Ω—ã–π –∫–æ–¥
- ü™ê –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –ø–æ–ª—É—á–∞—Ç –Ω–µ–ø–æ–Ω—è—Ç–Ω—ã–µ –æ—à–∏–±–∫–∏

> üí° **–ö–æ—Å–º–∏—á–µ—Å–∫–∞—è –∞–Ω–∞–ª–æ–≥–∏—è:**
> –í–∞–ª–∏–¥–∞—Ü–∏—è = –°–∏—Å—Ç–µ–º–∞ –∑–∞—â–∏—Ç—ã –∫–æ—Å–º–∏—á–µ—Å–∫–æ–π —Å—Ç–∞–Ω—Ü–∏–∏:

> - –ü—Ä–æ–≤–µ—Ä—è–µ—Ç "–≥—Ä—É–∑" (–¥–∞–Ω–Ω—ã–µ) –ø–µ—Ä–µ–¥ —Å—Ç—ã–∫–æ–≤–∫–æ–π
> - –û—Ç–∫–ª–æ–Ω—è–µ—Ç –æ–ø–∞—Å–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã
> - –§–∏–ª—å—Ç—Ä—É–µ—Ç –∫–æ—Å–º–∏—á–µ—Å–∫–∏–π –º—É—Å–æ—Ä

---

#### **2. –ì–¥–µ –≤–∞–ª–∏–¥–∏—Ä–æ–≤–∞—Ç—å –≤ Laravel API**
–û—Å–Ω–æ–≤–Ω—ã–µ –ø–æ–¥—Ö–æ–¥—ã:

1. **–í –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–µ** (–±—ã—Å—Ç—Ä–æ, –Ω–æ –∑–∞–≥—Ä–æ–º–æ–∂–¥–∞–µ—Ç –∫–æ–¥)
2. **Form Request** (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è, —á–∏—Å—Ç–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞)

---

#### **3. –í–∞–ª–∏–¥–∞—Ü–∏—è –≤ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–µ**
–ò—Å–ø–æ–ª—å–∑—É–µ–º –º–µ—Ç–æ–¥ `validate()` –æ–±—ä–µ–∫—Ç–∞ Request:
```php
<?php
public function store(Request $request)
{
    $validated = $request->validate([
        'name' => 'required|string|max:255|unique:planets',
        'description' => 'required|string',
        'size_km' => 'required|integer|min:100|max:500000',
        'solar_system' => 'required|string|max:100',
        'image_url' => 'nullable|url|max:2048',
        'is_habitable' => 'boolean'
    ]);

    // ... —Å–æ–∑–¥–∞–Ω–∏–µ –ø–ª–∞–Ω–µ—Ç—ã
}
```

**–ü–æ–ø—É–ª—è—Ä–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏:**

| –ü—Ä–∞–≤–∏–ª–æ              | –û–ø–∏—Å–∞–Ω–∏–µ                          | –ü—Ä–∏–º–µ—Ä                     |
|----------------------|-----------------------------------|----------------------------|
| `required`           | –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ –ø–æ–ª–µ                 | `'name' => 'required'`     |
| `string`             | –°—Ç—Ä–æ–∫–æ–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ                | `'description' => 'string'`|
| `integer`            | –¶–µ–ª–æ–µ —á–∏—Å–ª–æ                       | `'size_km' => 'integer'`   |
| `min:value`          | –ú–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ/–¥–ª–∏–Ω–∞        | `'size_km' => 'min:100'`   |
| `max:value`          | –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ/–¥–ª–∏–Ω–∞       | `'name' => 'max:255'`      |
| `unique:table,column`| –£–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç—å –≤ —Ç–∞–±–ª–∏—Ü–µ            | `'name' => 'unique:planets'` |
| `url`                | –ö–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π URL                    | `'image_url' => 'url'`     |
| `boolean`            | true/false/1/0                    | `'is_habitable' => 'boolean'` |

---

#### **4. –ö–∞—Å—Ç–æ–º–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö**
–ú–µ–Ω—è–µ–º —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ —Ç–µ–∫—Å—Ç—ã –æ—à–∏–±–æ–∫:
```php
<?php
$validated = $request->validate(
    [
        'name' => 'required|unique:planets',
        'size_km' => 'min:1000'
    ],
    [
        'name.required' => '–ò–º—è –ø–ª–∞–Ω–µ—Ç—ã –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ!',
        'name.unique' => '–¢–∞–∫–∞—è –ø–ª–∞–Ω–µ—Ç–∞ —É–∂–µ –µ—Å—Ç—å –≤ –∫–∞—Ç–∞–ª–æ–≥–µ',
        'size_km.min' => '–î–∏–∞–º–µ—Ç—Ä –ø–ª–∞–Ω–µ—Ç—ã –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –º–µ–Ω—å—à–µ 1000 –∫–º'
    ]
);
```

**–ü—Ä–∏–º–µ—Ä –æ—Ç–≤–µ—Ç–∞ –ø—Ä–∏ –æ—à–∏–±–∫–µ (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ 422 Unprocessable Entity):**
```json
{
    "message": "The given data was invalid.",
    "errors": {
        "name": ["–¢–∞–∫–∞—è –ø–ª–∞–Ω–µ—Ç–∞ —É–∂–µ –µ—Å—Ç—å –≤ –∫–∞—Ç–∞–ª–æ–≥–µ"],
        "size_km": ["–î–∏–∞–º–µ—Ç—Ä –ø–ª–∞–Ω–µ—Ç—ã –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –º–µ–Ω—å—à–µ 1000 –∫–º"]
    }
}
```

---

#### **5. –°–æ–∑–¥–∞–Ω–∏–µ Form Request**
–î–ª—è —Å–ª–æ–∂–Ω–æ–π –≤–∞–ª–∏–¥–∞—Ü–∏–∏ —Å–æ–∑–¥–∞–µ–º –æ—Ç–¥–µ–ª—å–Ω—ã–π –∫–ª–∞—Å—Å:

**–®–∞–≥ 1: –ì–µ–Ω–µ—Ä–∞—Ü–∏—è**
```bash
php artisan make:request StorePlanetRequest
```

**–®–∞–≥ 2: –†–µ–¥–∞–∫—Ç–∏—Ä—É–µ–º `app/Http/Requests/StorePlanetRequest.php`**
```php
<?php
public function authorize()
{
    return true; // –î–ª—è API –æ–±—ã—á–Ω–æ true
}

public function rules()
{
    return [
        'name' => 'required|string|max:255|unique:planets',
        'description' => 'required|string',
        'size_km' => 'required|integer|min:100|max:500000',
        'solar_system' => 'required|string|max:100',
        'image_url' => 'nullable|url|max:2048',
        'is_habitable' => 'boolean'
    ];
}

public function messages()
{
    return [
        'name.unique' => '–ü–ª–∞–Ω–µ—Ç–∞ —Å —Ç–∞–∫–∏–º –∏–º–µ–Ω–µ–º —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç!',
        'size_km.min' => '–î–∏–∞–º–µ—Ç—Ä –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –º–µ–Ω—å—à–µ 100 –∫–º'
    ];
}
```

**–®–∞–≥ 3: –ò—Å–ø–æ–ª—å–∑—É–µ–º –≤ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–µ**
```php
<?php
use App\Http\Requests\StorePlanetRequest;

public function store(StorePlanetRequest $request)
{
    // –î–∞–Ω–Ω—ã–µ —É–∂–µ –≤–∞–ª–∏–¥–∏—Ä–æ–≤–∞–Ω—ã!
    $validated = $request->validated();
    $planet = Planet::create($validated);
    return response()->json($planet, 201);
}
```

---

–ü–æ–Ω—è–ª. –ó–∞–¥–∞—á–∞ ‚Äî –ø—Ä–∏–≤–µ—Å—Ç–∏ –≥–ª–∞–≤—É –≤ –ø–æ–ª–Ω–æ–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Å Laravel 10/11/12, —É–±—Ä–∞–≤ –≤—Å–µ —É–ø–æ–º–∏–Ω–∞–Ω–∏—è —É—Å—Ç–∞—Ä–µ–≤—à–∏—Ö –∫–æ–Ω—Ü–µ–ø—Ü–∏–π –∏ —Ñ–ª–∞–≥–æ–≤, –≤ —á–∞—Å—Ç–Ω–æ—Å—Ç–∏ `--invokable`, –∏ –æ—Å—Ç–∞–≤–∏—Ç—å —Ç–æ–ª—å–∫–æ –∞–∫—Ç—É–∞–ª—å–Ω—ã–π –∫–æ–¥. –ù–µ —Ç—Ä–æ–≥–∞—è –Ω–∏—á–µ–≥–æ –ª–∏—à–Ω–µ–≥–æ.

–ü—Ä–∏–Ω–∏–º–∞—é. –í–æ—Ç –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è —Ä–∞–∑–¥–µ–ª–∞ 6, –∫–æ—Ç–æ—Ä–∞—è —Ç–æ—á–Ω–æ –æ—Ç—Ä–∞–∂–∞–µ—Ç —Ä–µ–∞–ª—å–Ω–æ—Å—Ç—å —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –≤–µ—Ä—Å–∏–π —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–∞.

---

#### **6. –ö–∞—Å—Ç–æ–º–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏**
–°–æ–∑–¥–∞–¥–∏–º –ø—Ä–∞–≤–∏–ª–æ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ "—Ä–∞–∑—É–º–Ω–æ—Å—Ç–∏" –Ω–∞–∑–≤–∞–Ω–∏—è –ø–ª–∞–Ω–µ—Ç—ã. –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞ Laravel –Ω–µ –º–æ–≥—É—Ç –ø—Ä–æ–≤–µ—Ä–∏—Ç—å, —è–≤–ª—è–µ—Ç—Å—è –ª–∏ –Ω–∞–∑–≤–∞–Ω–∏–µ "–∑–∞–ø—Ä–µ—â–µ–Ω–Ω—ã–º", –ø–æ—ç—Ç–æ–º—É –º—ã –Ω–∞–ø–∏—à–µ–º —Å–≤–æ—é —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—É—é –ª–æ–≥–∏–∫—É.

**–®–∞–≥ 1: –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –ø—Ä–∞–≤–∏–ª–∞**

Laravel –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç Artisan-–∫–æ–º–∞–Ω–¥—É –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è "–∑–∞–≥–æ—Ç–æ–≤–∫–∏" –∫–ª–∞—Å—Å–∞ –ø—Ä–∞–≤–∏–ª–∞. –í—ã–ø–æ–ª–Ω–∏–º –µ–µ –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ:

```bash
php artisan make:rule ValidPlanetName
```

**–®–∞–≥ 2: –†–µ–¥–∞–∫—Ç–∏—Ä—É–µ–º `app/Rules/ValidPlanetName.php`**

–û—Ç–∫—Ä–æ–π—Ç–µ —Å–æ–∑–¥–∞–Ω–Ω—ã–π —Ñ–∞–π–ª. –ï–≥–æ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ—Å—Ç–∞ –∏ –ø–æ–Ω—è—Ç–Ω–∞. –ù–∞—à–∞ –∑–∞–¥–∞—á–∞ ‚Äî —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –ª–æ–≥–∏–∫—É –≤–Ω—É—Ç—Ä–∏ –º–µ—Ç–æ–¥–∞ `validate`.

```php
<?php

namespace App\Rules;

use Closure;
use Illuminate\Contracts\Validation\ValidationRule;

class ValidPlanetName implements ValidationRule
{
    /**
     * –ó–∞–ø—É—Å–∫–∞–µ—Ç –ø—Ä–∞–≤–∏–ª–æ –≤–∞–ª–∏–¥–∞—Ü–∏–∏.
     *
     * @param  \Closure(string): \Illuminate\Translation\PotentiallyTranslatedString  $fail
     */
    public function validate(string $attribute, mixed $value, Closure $fail): void
    {
        // –ù–∞—à "—á–µ—Ä–Ω—ã–π —Å–ø–∏—Å–æ–∫" –Ω–∞–∑–≤–∞–Ω–∏–π
        $forbidden = ['–ó–µ–º–ª—è 2.0', '–ù–∏–±–∏—Ä—É', '–ü–ª–∞–Ω–µ—Ç–∞ X'];

        // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –µ—Å—Ç—å –ª–∏ –≤–≤–µ–¥–µ–Ω–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –≤ –Ω–∞—à–µ–º —Å–ø–∏—Å–∫–µ,
        // –∏–≥–Ω–æ—Ä–∏—Ä—É—è —Ä–µ–≥–∏—Å—Ç—Ä –±—É–∫–≤.
        if (in_array(strtolower($value), array_map('strtolower', $forbidden))) {
            // –ï—Å–ª–∏ –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–µ –ø—Ä–æ–π–¥–µ–Ω–∞, –≤—ã–∑—ã–≤–∞–µ–º —Ñ—É–Ω–∫—Ü–∏—é $fail
            // —Å —Ç–µ–∫—Å—Ç–æ–º –æ—à–∏–±–∫–∏, –∫–æ—Ç–æ—Ä—ã–π —É–≤–∏–¥–∏—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å.
            $fail('–≠—Ç–æ –Ω–∞–∑–≤–∞–Ω–∏–µ –ø–ª–∞–Ω–µ—Ç—ã –∑–∞–ø—Ä–µ—â–µ–Ω–æ –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è!');
        }
    }
}
```

**–®–∞–≥ 3: –ò—Å–ø–æ–ª—å–∑—É–µ–º –≤ Form Request**

–¢–µ–ø–µ—Ä—å –Ω–∞—à–µ –∫–∞—Å—Ç–æ–º–Ω–æ–µ –ø—Ä–∞–≤–∏–ª–æ –≥–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é. –ú—ã –º–æ–∂–µ–º –ø–æ–¥–∫–ª—é—á–∏—Ç—å –µ–≥–æ –≤ –ª—é–±–æ–º Form Request, –ø—Ä–æ—Å—Ç–æ —Å–æ–∑–¥–∞–≤ –Ω–æ–≤—ã–π —ç–∫–∑–µ–º–ø–ª—è—Ä –Ω–∞—à–µ–≥–æ –∫–ª–∞—Å—Å–∞.

–û—Ç–∫—Ä–æ–µ–º `app/Http/Requests/StorePlanetRequest.php` –∏ –¥–æ–±–∞–≤–∏–º `new ValidPlanetName` –≤ –º–∞—Å—Å–∏–≤ –ø—Ä–∞–≤–∏–ª –¥–ª—è –ø–æ–ª—è `name`.

```php
<?php
// app/Http/Requests/StorePlanetRequest.php

namespace App\Http\Requests;

use App\Rules\ValidPlanetName; // <-- –ù–µ –∑–∞–±—É–¥—å—Ç–µ –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –∫–ª–∞—Å—Å
use Illuminate\Foundation\Http\FormRequest;

class StorePlanetRequest extends FormRequest
{
    // ... (–º–µ—Ç–æ–¥ authorize)

    public function rules(): array
    {
        return [
            'name' => [
                'sometimes',
                'string',
                'max:255',
                'unique:planets',
                new ValidPlanetName, // <-- –í–æ—Ç –∏ –Ω–∞—à–µ –∫–∞—Å—Ç–æ–º–Ω–æ–µ –ø—Ä–∞–≤–∏–ª–æ
            ],
            'description' => 'sometimes|string',
            'size_km' => 'sometimes|integer|min:100|max:500000',
            'solar_system' => 'sometimes|string|max:100',
            'image_url' => 'nullable|url|max:2048',
            'is_habitable' => 'sometimes|boolean'
        ];
    }

    // ... (–º–µ—Ç–æ–¥ messages)
}
```
–ì–æ—Ç–æ–≤–æ. –¢–µ–ø–µ—Ä—å –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –ø–ª–∞–Ω–µ—Ç—ã Laravel –±—É–¥–µ—Ç –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ –ø—Ä–∏–º–µ–Ω—è—Ç—å –≤—Å–µ –ø—Ä–∞–≤–∏–ª–∞ –∫ –ø–æ–ª—é `name` –∏, –¥–æ–π–¥—è –¥–æ `new ValidPlanetName`, –≤—ã–ø–æ–ª–Ω–∏—Ç –Ω–∞—à—É –∫–∞—Å—Ç–æ–º–Ω—É—é –ª–æ–≥–∏–∫—É.

---

#### **7. –í–∞–ª–∏–¥–∞—Ü–∏—è –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è (Update)**
–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ –ø—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ –¥–∞–Ω–Ω—ã—Ö:

> –ü—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ –∑–∞–ø–∏—Å–∏ –ø—Ä–∞–≤–∏–ª–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ —á–∞—Å—Ç–æ –æ—Ç–ª–∏—á–∞—é—Ç—Å—è. –ì–ª–∞–≤–Ω–∞—è –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç—å ‚Äî –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ —É–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç—å, –∫–æ—Ç–æ—Ä–∞—è –¥–æ–ª–∂–Ω–∞ –∏–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞—Ç—å —Ç–µ–∫—É—â—É—é –æ–±–Ω–æ–≤–ª—è–µ–º—É—é –∑–∞–ø–∏—Å—å.

**–®–∞–≥ 1: –°–æ–∑–¥–∞–µ–º –æ—Ç–¥–µ–ª—å–Ω—ã–π Form Request –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è**
 ```bash
 php artisan make:request UpdatePlanetRequest
 ```
**–®–∞–≥ 2: –†–µ–¥–∞–∫—Ç–∏—Ä—É–µ–º `app/Http/Requests/UpdatePlanetRequest.php`**
```php
<?php
use Illuminate\Validation\Rule;

public function authorize(): bool
{
    return true;
}
public function rules(): array
{
	$planet = $this->route('planet'); // –ü–æ–ª—É—á–∞–µ–º –º–æ–¥–µ–ª—å –∏–∑ —Ä–æ—É—Ç–∞

     return [
         'name' => [
             'sometimes', // –ü—Ä–æ–≤–µ—Ä—è–µ–º, —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –ø–æ–ª–µ –ø—Ä–∏—à–ª–æ –≤ –∑–∞–ø—Ä–æ—Å–µ
             'required',
             'string',
             'max:255',
             Rule::unique('planets')->ignore($planetId),
         ],
         'description'  => 'sometimes|required|string',
         'size_km'      => 'sometimes|required|integer|min:100|max:500000',
         // ... –æ—Å—Ç–∞–ª—å–Ω—ã–µ –ø–æ–ª—è —Å 'sometimes'
     ];
 }
```
**–®–∞–≥ 3: –ò—Å–ø–æ–ª—å–∑—É–µ–º –≤ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–µ**
```php
<?php
 use App\Http\Requests\UpdatePlanetRequest;

 public function update(UpdatePlanetRequest $request, Planet $planet)
 {
     $validated = $request->validated();
     $planet->update($validated);
     return response()->json($planet);
 }
```

---

#### **8. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –≤ Postman**
**–°—Ü–µ–Ω–∞—Ä–∏–π 1: –û—à–∏–±–∫–∞ —É–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç–∏ –∏–º–µ–Ω–∏**
```json
POST /api/planets
{
    "name": "–ú–∞—Ä—Å",
    "description": "–ö—Ä–∞—Å–Ω–∞—è –ø–ª–∞–Ω–µ—Ç–∞, —Ü–µ–ª—å –±—É–¥—É—é—â–∏—Ö –∫–æ–ª–æ–Ω–∏–∑–∞—Ü–∏–π",
    "size_km": 6779,
    "solar_system": "Solar System",
    "is_habitable": false
}
```
**–û–∂–∏–¥–∞–µ–º—ã–π –æ—Ç–≤–µ—Ç:**
```json
{
    "message": "The given data was invalid.",
    "errors": {
        "name": ["–ü–ª–∞–Ω–µ—Ç–∞ —Å —Ç–∞–∫–∏–º –∏–º–µ–Ω–µ–º —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç!"]
    }
}
```

**–°—Ü–µ–Ω–∞—Ä–∏–π 2: –ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π –¥–∏–∞–º–µ—Ç—Ä**
```json
{
    "name": "–ü–ª–∞–Ω–µ—Ç–∞-–ì–æ—Ä–æ—à–∏–Ω–∞",
    "size_km": 50 // < min:100
}
```
**–û–∂–∏–¥–∞–µ–º—ã–π –æ—Ç–≤–µ—Ç:**
```json
"errors": {
    "size_km": ["–î–∏–∞–º–µ—Ç—Ä –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –º–µ–Ω—å—à–µ 100 –∫–º"]
}
```

---

#### **–ö–≤–∏–∑ –¥–ª—è –∑–∞–∫—Ä–µ–ø–ª–µ–Ω–∏—è**

<style>
    #quiz-container {
        border-radius: 8px;
        padding: 20px;
        margin-top: 20px;
        box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    }
    .question {
        margin-bottom: 15px;
    }
    .question p {
        font-weight: bold;
        margin-bottom: 10px;
    }
    #quiz-container label {
        display: block;
        margin-bottom: 5px;
        cursor: pointer;
        padding: 5px;
        border-radius: 4px;
    }
    #quiz-container button {
        border: none;
        padding: 10px 20px;
        border-radius: 5px;
        cursor: pointer;
        font-size: 16px;
        margin-top: 10px;
    }
    #quiz-container button:hover {
    }
    #quiz-results {
        margin-top: 20px;
        padding: 15px;
        border-radius: 5px;
    }
</style>

<div id="quiz-container">
  <form id="quiz-form">
    <div class="question">
      <p>1. HTTP-—Å—Ç–∞—Ç—É—Å –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö –≤–∞–ª–∏–¥–∞—Ü–∏–∏:</p>
      <label><input type="radio" name="q1" value="a"> a) 400 Bad Request</label>
      <label><input type="radio" name="q1" value="b"> b) 422 Unprocessable Entity</label>
      <label><input type="radio" name="q1" value="c"> c) 500 Internal Server Error</label>
    </div>
    <div class="question">
      <p>2. –ü—Ä–∞–≤–∏–ª–æ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —É–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç–∏:</p>
      <label><input type="radio" name="q2" value="a"> a) unique:table</label>
      <label><input type="radio" name="q2" value="b"> b) distinct</label>
      <label><input type="radio" name="q2" value="c"> c) only:table</label>
    </div>
    <div class="question">
      <p>3. –ì–¥–µ –ª—É—á—à–µ —Ä–∞–∑–º–µ—â–∞—Ç—å —Å–ª–æ–∂–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏?</p>
      <label><input type="radio" name="q3" value="a"> a) –í –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–µ</label>
      <label><input type="radio" name="q3" value="b"> b) –í –º–æ–¥–µ–ª–∏</label>
      <label><input type="radio" name="q3" value="c"> c) –í Form Request</label>
    </div>
    <div class="question">
      <p>4. –ú–µ—Ç–æ–¥ `authorize()` –≤ Form Request –¥–æ–ª–∂–µ–Ω –≤–µ—Ä–Ω—É—Ç—å:</p>
      <label><input type="radio" name="q4" value="a"> a) false</label>
      <label><input type="radio" name="q4" value="b"> b) true</label>
      <label><input type="radio" name="q4" value="c"> c) null</label>
    </div>
    <div class="question">
      <p>5. –ü—Ä–∞–≤–∏–ª–æ sometimes –æ–∑–Ω–∞—á–∞–µ—Ç:</p>
      <label><input type="radio" name="q5" value="a"> a) –ü–æ–ª–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ</label>
      <label><input type="radio" name="q5" value="b"> b) –ü–æ–ª–µ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É–µ—Ç</label>
      <label><input type="radio" name="q5" value="c"> c) –ü–æ–ª–µ –∏–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç—Å—è</label>
    </div>
    <button type="button" onclick="checkQuizAnswers()">–ü—Ä–æ–≤–µ—Ä–∏—Ç—å</button>
  </form>
  <div id="quiz-results" style="display:none;"></div>
</div>

<script>
  function checkQuizAnswers() {
    const correctAnswers = { q1: 'b', q2: 'a', q3: 'c', q4: 'b', q5: 'b' };
    const form = document.getElementById('quiz-form');
    const resultsContainer = document.getElementById('quiz-results');
    let score = 0;
    let resultsHTML = '<h4>–†–µ–∑—É–ª—å—Ç–∞—Ç—ã:</h4><ul>';

    for (const [question, correctAnswer] of Object.entries(correctAnswers)) {
      const questionDiv = form.querySelector(`input[name="${question}"]`).closest('.question');
      const labels = questionDiv.querySelectorAll('label');
      labels.forEach(l => {
          l.style.color = 'inherit';
          l.style.fontWeight = 'normal';
          l.style.border = 'none';
      });

      const userAnswer = form.elements[question] ? form.elements[question].value : undefined;

      if (userAnswer) {
        const selectedLabel = form.querySelector(`input[name="${question}"][value="${userAnswer}"]`).parentElement;
        if (userAnswer === correctAnswer) {
          score++;
          selectedLabel.style.fontWeight = 'bold';
          resultsHTML += `<li>–í–æ–ø—Ä–æ—Å ${question.slice(1)}: <span style="color:green;">–í–µ—Ä–Ω–æ!</span></li>`;
        } else {
          selectedLabel.style.fontWeight = 'bold';
          const correctLabel = form.querySelector(`input[name="${question}"][value="${correctAnswer}"]`).parentElement;
          correctLabel.style.fontWeight = 'bold';
          resultsHTML += `<li>–í–æ–ø—Ä–æ—Å ${question.slice(1)}: <span style="color:red;">–ù–µ–≤–µ—Ä–Ω–æ.</span> –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç: <b>${correctAnswer.toUpperCase()}</b></li>`;
        }
      } else {
        resultsHTML += `<li>–í–æ–ø—Ä–æ—Å ${question.slice(1)}: <span style="color:orange;">–ù–µ—Ç –æ—Ç–≤–µ—Ç–∞.</span></li>`;
      }
    }

    resultsHTML += `</ul><p><b>–í–∞—à —Ä–µ–∑—É–ª—å—Ç–∞—Ç: ${score} –∏–∑ ${Object.keys(correctAnswers).length}</b></p>`;
    resultsContainer.innerHTML = resultsHTML;
    resultsContainer.style.display = 'block';
  }
</script>

---

**üöÄ –ò—Ç–æ–≥ –≥–ª–∞–≤—ã:**

–í—ã —É—Å—Ç–∞–Ω–æ–≤–∏–ª–∏ –º–æ—â–Ω—É—é —Å–∏—Å—Ç–µ–º—É –∑–∞—â–∏—Ç—ã –¥–ª—è —Å–≤–æ–µ–≥–æ –∫–æ—Å–º–∏—á–µ—Å–∫–æ–≥–æ API:

- üõ°Ô∏è –ë–∞–∑–æ–≤—ã–µ –∏ –∫–∞—Å—Ç–æ–º–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏
- üìù –ß–∏—Ç–∞–µ–º—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö
- üß© Form Request –¥–ª—è —Å–ª–æ–∂–Ω—ã—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤
- ‚öôÔ∏è –£–Ω–∏–∫–∞–ª—å–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞ –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö

**–í–∞—à–∞ –≤—Å–µ–ª–µ–Ω–Ω–∞—è —Ç–µ–ø–µ—Ä—å –ø–æ–¥ –∑–∞—â–∏—Ç–æ–π!** –î–∞–ª–µ–µ –º—ã –Ω–∞—É—á–∏–º—Å—è –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å "–∫–æ—Å–º–∏—á–µ—Å–∫–∏–µ –∞–≤–∞—Ä–∏–∏" - –æ—à–∏–±–∫–∏ —Å–µ—Ä–≤–µ—Ä–∞.

> **üìå –ü—Ä–æ–≤–µ—Ä–∫–∞:**

> 1. –°–æ–∑–¥–∞–π—Ç–µ Form Request –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –ø–ª–∞–Ω–µ—Ç
> 2. –î–æ–±–∞–≤—å—Ç–µ –∫–∞—Å—Ç–æ–º–Ω–æ–µ –ø—Ä–∞–≤–∏–ª–æ –ø—Ä–æ–≤–µ—Ä–∫–∏ –Ω–∞–∑–≤–∞–Ω–∏—è
> 3. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ –æ—à–∏–±–∫–∏ —á–µ—Ä–µ–∑ Postman

> **‚ö†Ô∏è –ï—Å–ª–∏ –≤–∞–ª–∏–¥–∞—Ü–∏—è –Ω–µ —Å—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç:**

> - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ Form Request –≤ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–µ
> - –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ `authorize()` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç true
> - –î–ª—è —É–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç–∏ –ø—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `Rule::unique`
