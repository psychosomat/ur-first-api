# **2.2ì¥: Planet ëª¨ë¸ ìƒì„±**
**í•™ìŠµ ì‹œê°„:** 45ë¶„

---

#### **1. Laravelì˜ ëª¨ë¸: ìš°ì£¼ ê°ì²´ì˜ ì„¤ê³„ë„**
MVC(Model-View-Controller) ì•„í‚¤í…ì²˜ì—ì„œ **ëª¨ë¸**ì€ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤:

- ğŸ“¦ ë°ì´í„° ì»¨í…Œì´ë„ˆ (í–‰ì„± ë§¤ê°œë³€ìˆ˜)
- ğŸ”Œ ë°ì´í„°ë² ì´ìŠ¤ ì‘ì—… ì¸í„°í˜ì´ìŠ¤
- ğŸ›¡ï¸ ì• í”Œë¦¬ì¼€ì´ì…˜ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì˜ ì¤‘ì‹¬

> ğŸ’¡ **ìš°ì£¼ ë¹„ìœ :**
> `Planet` ëª¨ë¸ = ì§€ìƒ í†µì œ ì„¼í„°(Ğ¦Ğ£ĞŸ) ì»´í“¨í„°ì˜ í–‰ì„± ì„¤ê³„ë„. ì´ë¥¼ í†µí•´ ë‹¤ìŒì„ ìˆ˜í–‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:

> - ì¹´íƒˆë¡œê·¸ì— ìƒˆë¡œìš´ í–‰ì„± ìƒì„± (`INSERT`)
> - í™”ì„± ë°ì´í„° ê°€ì ¸ì˜¤ê¸° (`SELECT`)
> - ëŒ€ê¸° ì •ë³´ ì—…ë°ì´íŠ¸ (`UPDATE`)

---

#### **2. ëª¨ë¸ ë° ë§ˆì´ê·¸ë ˆì´ì…˜ ìƒì„±**
Laravelì€ Artisan CLIë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤. ì´ê²ƒì€ í”„ë¡œì íŠ¸ì˜ "ì œì–´íŒ"ì…ë‹ˆë‹¤.

**1ë‹¨ê³„: ë§ˆì´ê·¸ë ˆì´ì…˜ê³¼ í•¨ê»˜ ëª¨ë¸ ìƒì„±**
```bash
php artisan make:model Planet -m
```

**ìƒì„±ëœ íŒŒì¼:**
```
app/
  â””â”€â”€ Models/
      â””â”€â”€ Planet.php    â† ëª¨ë¸
database/
  â””â”€â”€ migrations/
      â””â”€â”€ 2025_08_04_000000_create_planets_table.php  â† ë§ˆì´ê·¸ë ˆì´ì…˜
```

**Artisan í”Œë˜ê·¸:**

- `-m` â†’ ë§ˆì´ê·¸ë ˆì´ì…˜ ìƒì„±
- `-c` â†’ ì»¨íŠ¸ë¡¤ëŸ¬ ìƒì„±
- `-r` â†’ ë¦¬ì†ŒìŠ¤ ì»¨íŠ¸ë¡¤ëŸ¬

> ğŸ’¡ **ì „ë¬¸ê°€ íŒ:** ì´ëŸ¬í•œ í”Œë˜ê·¸ë¥¼ ì¡°í•©í•˜ì—¬ ìµœëŒ€ íš¨ìœ¨ì„ ì–»ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤. `php artisan make:model Planet -mcr` ëª…ë ¹ì–´ëŠ” ëª¨ë¸, ë§ˆì´ê·¸ë ˆì´ì…˜, ê·¸ë¦¬ê³  ì´ ëª¨ë¸ì„ ê´€ë¦¬í•˜ëŠ” ë¦¬ì†ŒìŠ¤ ì»¨íŠ¸ë¡¤ëŸ¬ë¥¼ ë™ì‹œì— ìƒì„±í•©ë‹ˆë‹¤. ì´ëŠ” ë§ì€ ì‹œê°„ì„ ì ˆì•½í•´ì¤ë‹ˆë‹¤.

---

#### **3. Planet ëª¨ë¸ ì„¤ì •**
`app/Models/Planet.php` íŒŒì¼ì„ ì—½ë‹ˆë‹¤:
```php
<?php

namespace App\Models;

use Illuminate\Database\Eloquent\Model;

class Planet extends Model
{
    // í…Œì´ë¸” ì´ë¦„ (ê¸°ë³¸ê°’: 'planets')
	// Laravelì€ í…Œì´ë¸” ì´ë¦„ì´ ëª¨ë¸ ì´ë¦„ì˜ snake_case í˜•íƒœì˜ ë³µìˆ˜í˜•(Planet -> planets)ì´ë¼ê³  ìë™ìœ¼ë¡œ ê°€ì •í•©ë‹ˆë‹¤.
       //ë”°ë¼ì„œ ì´ ì†ì„±ì€ í•„ìˆ˜ëŠ” ì•„ë‹ˆì§€ë§Œ, ëª…í™•ì„±ì„ ìœ„í•´ ìœ ìš©í•©ë‹ˆë‹¤.
    protected $table = 'planets';

    // ëŒ€ëŸ‰ í• ë‹¹ì´ í—ˆìš©ëœ í•„ë“œ
    protected $fillable = [
        'name',
        'description',
        'size_km',
        'solar_system',
        'image_url'
    ];

    // ìë™ í˜• ë³€í™˜ì„ ìœ„í•œ ë°ì´í„° íƒ€ì…
    protected $casts = [
        'size_km' => 'integer'
    ];
}
```

**ì†ì„± ì„¤ëª…:**

| ì†ì„±         | ê°’                         | ë°ì´í„° ì˜ˆì‹œ              |
|------------------|----------------------------------|----------------------------|
| `$table`         | DBì˜ í…Œì´ë¸” ì´ë¦„                 | `planets`                  |
| `$fillable`      | ëŒ€ëŸ‰ í• ë‹¹ì„ ìœ„í•œ í•„ë“œ    | `name`, `size_km`          |
| `$casts`         | ìë™ íƒ€ì… ë³€í™˜ | `size_km: integer`       |

---

#### **4. í–‰ì„± í…Œì´ë¸” ì„¤ê³„**
ë§ˆì´ê·¸ë ˆì´ì…˜ì„ í¸ì§‘í•˜ê¸° ì „ì— "í–‰ì„±"ì˜ êµ¬ì¡°ë¥¼ ì •ì˜í•´ ë´…ì‹œë‹¤:

| í•„ë“œ             | ë°ì´í„° íƒ€ì…       | ì„¤ëª…                     | ì˜ˆì‹œ ê°’       |
|------------------|------------------|------------------------------|-----------------------|
| `id`             | BIGINT (PK)      | ê³ ìœ  ID                | 1                     |
| `name`           | VARCHAR(255)     | í–‰ì„± ì´ë¦„             | "í™”ì„±"                |
| `description`    | TEXT             | ì„¤ëª…                     | "ë¶‰ì€ í–‰ì„±..."  |
| `size_km`        | INTEGER          | ì§ê²½ (km)                 | 6779                  |
| `solar_system`   | VARCHAR(100)     | íƒœì–‘ê³„            | "íƒœì–‘ê³„"   |
| `image_url`      | VARCHAR(2048)    | ì‚¬ì§„ URL (null í—ˆìš©)   | "https://..."         |
| `created_at`     | TIMESTAMP        | ìƒì„± ë‚ ì§œ                | 2025-08-04 12:00:00   |
| `updated_at`     | TIMESTAMP        | ì—…ë°ì´íŠ¸ ë‚ ì§œ              | 2025-08-05 09:30:00   |

---

#### **5. ë§ˆì´ê·¸ë ˆì´ì…˜ í¸ì§‘**
`database/migrations/..._create_planets_table.php` íŒŒì¼ì„ ì—½ë‹ˆë‹¤:

```php
<?php
use Illuminate\Database\Migrations\Migration;
use Illuminate\Database\Schema\Blueprint;
use Illuminate\Support\Facades\Schema;

class CreatePlanetsTable extends Migration
{
    public function up()
    {
        Schema::create('planets', function (Blueprint $table) {
            $table->id(); // BIGINT ìë™ ì¦ë¶„

            $table->string('name')->unique();
            $table->text('description');
            $table->integer('size_km');
            $table->string('solar_system', 100);
            $table->string('image_url', 2048)->nullable();

            $table->timestamps(); // created_at + updated_at
        });
    }

    public function down()
    {
        Schema::dropIfExists('planets');
    }
}
```

**í•µì‹¬ ì‚¬í•­:**

- `->unique()` â†’ ì´ë¦„ì˜ ê³ ìœ ì„± ë³´ì¥
- `->nullable()` â†’ í•„ë“œê°€ ë¹„ì–´ ìˆì„ ìˆ˜ ìˆìŒ
- `timestamps()` â†’ ë‚ ì§œ ìë™ ê´€ë¦¬

---

#### **6. ë§ˆì´ê·¸ë ˆì´ì…˜ ì‹¤í–‰ (ì‚¬ì „)**
2.3ì¥ì—ì„œ ì‹¤í–‰í•˜ê² ì§€ë§Œ, ì–´ë–»ê²Œ ë³´ì¼ì§€ ë¯¸ë¦¬ ì‚´í´ë´…ì‹œë‹¤:
```bash
php artisan migrate
```

**ì˜ˆìƒ ì¶œë ¥:**
```
Migrating: 2025_08_04_000000_create_planets_table
Migrated:  2025_08_04_000000_create_planets_table (32.15ms)
```

**pgAdmin 4ì—ì„œ í™•ì¸:**

1. `space_api` ë°ì´í„°ë² ì´ìŠ¤ â†’ Schemas â†’ Tablesë¥¼ ì—½ë‹ˆë‹¤.
2. `planets` í…Œì´ë¸”ì´ ì—¬ëŸ¬ë¶„ì´ ì •ì˜í•œ í•„ë“œë“¤ê³¼ í•¨ê»˜ ë‚˜íƒ€ë‚˜ì•¼ í•©ë‹ˆë‹¤.

---

#### **7. ëŒ€ì²´ ì ‘ê·¼ ë°©ì‹: ì½”ë“œ ìƒì„±ê¸°**
ê°œë°œ ì†ë„ë¥¼ ë†’ì´ê¸° ìœ„í•´ ë‹¤ìŒ íŒ¨í‚¤ì§€ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:

- **Laravel Blueprint** - YAML ì„¤ëª…ì„ ê¸°ë°˜ìœ¼ë¡œ ëª¨ë¸/ë§ˆì´ê·¸ë ˆì´ì…˜ ìƒì„±
- **InfyOm Laravel Generator** - DB ìŠ¤í‚¤ë§ˆ ê¸°ë°˜ì˜ ìƒì„±ê¸°

**Blueprint ì˜ˆì‹œ:**
```yaml
models:
  Planet:
    name: string:255
    description: text
    size_km: integer
    solar_system: string:100
    image_url: string:2048? # '?' ê¸°í˜¸ëŠ” í•„ë“œê°€ nullableì„ì„ ì˜ë¯¸í•©ë‹ˆë‹¤.
```

---

#### **ë³µìŠµ í€´ì¦ˆ**

<style>
    #quiz-container {
        border-radius: 8px;
        padding: 20px;
        margin-top: 20px;
        box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    }
    .question {
        margin-bottom: 15px;
    }
    .question p {
        font-weight: bold;
        margin-bottom: 10px;
    }
    #quiz-container label {
        display: block;
        margin-bottom: 5px;
        cursor: pointer;
        padding: 5px;
        border-radius: 4px;
    }
    #quiz-container button {
        border: none;
        padding: 10px 20px;
        border-radius: 5px;
        cursor: pointer;
        font-size: 16px;
        margin-top: 10px;
    }
    #quiz-container button:hover {
    }
    #quiz-results {
        margin-top: 20px;
        padding: 15px;
        border-radius: 5px;
    }
</style>

<div id="quiz-container">
  <form id="quiz-form">
    <div class="question">
      <p>1. ëª¨ë¸ ë° ê´€ë ¨ ë§ˆì´ê·¸ë ˆì´ì…˜ì„ ìƒì„±í•˜ëŠ” Artisan ëª…ë ¹ì–´:</p>
      <label><input type="radio" name="q1" value="a"> a) php artisan make:model Planet -m</label>
      <label><input type="radio" name="q1" value="b"> b) php artisan create:model Planet</label>
      <label><input type="radio" name="q1" value="c"> c) php artisan model:new Planet --m</label>
    </div>
    <div class="question">
      <p>2. ëª¨ë¸ì˜ `$fillable` ì†ì„±ì´ í•„ìš”í•œ ì´ìœ :</p>
      <label><input type="radio" name="q2" value="a"> a) ëŒ€ëŸ‰ í• ë‹¹ìœ¼ë¡œë¶€í„° ë³´í˜¸</label>
      <label><input type="radio" name="q2" value="b"> b) ë°ì´í„° ìë™ ì•”í˜¸í™”</label>
      <label><input type="radio" name="q2" value="c"> c) ì™¸ë˜ í‚¤ ì„¤ëª…</label>
    </div>
    <div class="question">
      <p>3. ë§ˆì´ê·¸ë ˆì´ì…˜ì—ì„œ nullable()ì€ ë‹¤ìŒì„ ì˜ë¯¸í•©ë‹ˆë‹¤:</p>
      <label><input type="radio" name="q3" value="a"> a) í•„ìˆ˜ í•„ë“œ</label>
      <label><input type="radio" name="q3" value="b"> b) í•„ë“œê°€ ë¹„ì–´ ìˆì„ ìˆ˜ ìˆìŒ</label>
      <label><input type="radio" name="q3" value="c"> c) í•„ë“œê°€ ì‚­ì œë©ë‹ˆë‹¤</label>
    </div>
    <div class="question">
      <p>4. í–‰ì„±ì˜ ê¸´ ì„¤ëª…ì„ ìœ„í•œ í•„ë“œ ìœ í˜•:</p>
      <label><input type="radio" name="q4" value="a"> a) string</label>
      <label><input type="radio" name="q4" value="b"> b) text</label>
      <label><input type="radio" name="q4" value="c"> c) varchar</label>
    </div>
    <div class="question">
      <p>5. `timestamps()` ë©”ì„œë“œëŠ” ë‹¤ìŒì„ ìƒì„±í•©ë‹ˆë‹¤:</p>
      <label><input type="radio" name="q5" value="a"> a) created_atë§Œ</label>
      <label><input type="radio" name="q5" value="b"> b) created_at ë° updated_at</label>
      <label><input type="radio" name="q5" value="c"> c) id, created_at, updated_at</label>
    </div>
    <button type="button" onclick="checkQuizAnswers()">í™•ì¸</button>
  </form>
  <div id="quiz-results" style="display:none;"></div>
</div>

<script>
  function checkQuizAnswers() {
    const correctAnswers = { q1: 'a', q2: 'a', q3: 'b', q4: 'b', q5: 'b' };
    const form = document.getElementById('quiz-form');
    const resultsContainer = document.getElementById('quiz-results');
    let score = 0;
    let resultsHTML = '<h4>ê²°ê³¼:</h4><ul>';

    for (const [question, correctAnswer] of Object.entries(correctAnswers)) {
      const questionDiv = form.querySelector(`input[name="${question}"]`).closest('.question');
      const labels = questionDiv.querySelectorAll('label');
      labels.forEach(l => {
          l.style.color = 'inherit';
          l.style.fontWeight = 'normal';
          l.style.border = 'none';
      });

      const userAnswer = form.elements[question] ? form.elements[question].value : undefined;

      if (userAnswer) {
        const selectedLabel = form.querySelector(`input[name="${question}"][value="${userAnswer}"]`).parentElement;
        if (userAnswer === correctAnswer) {
          score++;
          selectedLabel.style.fontWeight = 'bold';
          resultsHTML += `<li>ë¬¸ì œ ${question.slice(1)}: <span style="color:green;">ì •ë‹µì…ë‹ˆë‹¤!</span></li>`;
        } else {
          selectedLabel.style.fontWeight = 'bold';
          const correctLabel = form.querySelector(`input[name="${question}"][value="${correctAnswer}"]`).parentElement;
          correctLabel.style.fontWeight = 'bold';
          resultsHTML += `<li>ë¬¸ì œ ${question.slice(1)}: <span style="color:red;">ì˜¤ë‹µì…ë‹ˆë‹¤.</span> ì •ë‹µ: <b>${correctAnswer.toUpperCase()}</b></li>`;
        }
      } else {
        resultsHTML += `<li>ë¬¸ì œ ${question.slice(1)}: <span style="color:orange;">ë‹µë³€ ì—†ìŒ.</span></li>`;
      }
    }
resultsHTML += `</ul><p><b>ê·€í•˜ì˜ ì ìˆ˜: ${Object.keys(correctAnswers).length}ê°œ ì¤‘ ${score}ì </b></p>`;
    resultsContainer.innerHTML = resultsHTML;
    resultsContainer.style.display = 'block';
  }
</script>

---

**ğŸš€ ì¥ ìš”ì•½:**
í–‰ì„±ì˜ "ë””ì§€í„¸ íŠ¸ìœˆ"ì„ ë§Œë“¤ì—ˆìŠµë‹ˆë‹¤! ì´ì œ í”„ë¡œì íŠ¸ì—ëŠ” ë‹¤ìŒì´ í¬í•¨ë©ë‹ˆë‹¤:

- ğŸª ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì´ í¬í•¨ëœ `Planet` ëª¨ë¸
- ğŸ“Š PostgreSQL ë‚´ `planets` í…Œì´ë¸”ìš© ë§ˆì´ê·¸ë ˆì´ì…˜
- ğŸ› ï¸ ì„¤ì •ëœ ëª¨ë¸ ì†ì„±(`fillable`, `casts`)

**ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ì¤€ë¹„í•˜ì„¸ìš”!** ë‹¤ìŒ ì¥ì—ì„œëŠ” ë§ˆì´ê·¸ë ˆì´ì…˜ì„ ì‹¤í–‰í•˜ê³  ì²« í–‰ì„±ë“¤ë¡œ ìš°ì£¼ë¥¼ ì±„ìš¸ ê²ƒì…ë‹ˆë‹¤.

> **ğŸ“Œ í™•ì¸:**

> `Planet.php` ë° `..._create_planets_table.php` íŒŒì¼ì´ ì˜¬ë°”ë¥¸ ë””ë ‰í„°ë¦¬ì— ìƒì„±ë˜ì—ˆëŠ”ì§€ í™•ì¸í•˜ì„¸ìš”.

> **âš ï¸ Artisanì— ì˜¤ë¥˜ê°€ ë°œìƒí•˜ë©´:**

> - í”„ë¡œì íŠ¸ í´ë” ì•ˆì— ìˆëŠ”ì§€ í™•ì¸í•˜ì„¸ìš”.
> - ì¢…ì†ì„±ì´ ì„¤ì¹˜ë˜ì—ˆëŠ”ì§€ í™•ì¸í•˜ì„¸ìš” (`composer install`).
> - Windowsì˜ ê²½ìš°: PHPì™€ Composerë¥¼ PATHì— ì¶”ê°€í•˜ì„¸ìš”.
