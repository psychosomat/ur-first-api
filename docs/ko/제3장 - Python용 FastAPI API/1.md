# **3.1ì¥: FastAPI ì„¤ì¹˜ ë° í™˜ê²½ ì„¤ì •**
**í•™ìŠµ ì‹œê°„:** 45ë¶„

---

#### **1. FastAPIë€? APIë¥¼ ìœ„í•œ í•˜ì´í¼ë“œë¼ì´ë¸Œ**
Flaskê°€ ê¸°ë™ì„± ìˆëŠ” ì •ì°°ìš© íƒì‚¬ì„ ì´ê³  Djangoê°€ ê±°ëŒ€í•œ í•­ê³µëª¨í•¨ì´ë¼ë©´, **FastAPI**ëŠ” **ì´ˆê´‘ì† ì „íˆ¬ê¸°**ì…ë‹ˆë‹¤.

**FastAPI**ëŠ” Python 3.7+ì—ì„œ APIë¥¼ êµ¬ì¶•í•˜ê¸° ìœ„í•œ í˜„ëŒ€ì ì´ê³  ê³ ì„±ëŠ¥ ì›¹ í”„ë ˆì„ì›Œí¬ì…ë‹ˆë‹¤. ì£¼ìš” ì¥ì ì€ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤:

- **ì†ë„:** NodeJS ë° Goì™€ ë¹„ê²¬ë  ì •ë„ë¡œ ê°€ì¥ ë¹ ë¥¸ Python í”„ë ˆì„ì›Œí¬ ì¤‘ í•˜ë‚˜ì…ë‹ˆë‹¤.
- **ë‹¨ìˆœì„±:** ë¯¸ë‹ˆë©€í•˜ê³  ì§ê´€ì ì¸ êµ¬ë¬¸ì…ë‹ˆë‹¤.
- **ìë™ ë¬¸ì„œí™”:** APIì— ëŒ€í•œ ëŒ€í™”í˜• ë¬¸ì„œë¥¼ ìë™ìœ¼ë¡œ ìƒì„±í•©ë‹ˆë‹¤.
- **íƒ€ì… íŒíŠ¸:** ìœ íš¨ì„± ê²€ì‚¬, ìë™ ì™„ì„± ë° ë¬¸ì„œí™”ë¥¼ ìœ„í•´ í‘œì¤€ Python íƒ€ì… íŒíŠ¸ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.

> ğŸ’¡ **ìš°ì£¼ ë¹„ìœ :**

> FastAPIëŠ” API í•¨ì„ ì„ ìœ„í•œ "í•˜ì´í¼ë“œë¼ì´ë¸Œ"ì™€ ê°™ìŠµë‹ˆë‹¤. ì´ í”„ë ˆì„ì›Œí¬ëŠ” ë‘ ê°€ì§€ ê¸°ìˆ ì„ ê¸°ë°˜ìœ¼ë¡œ í•©ë‹ˆë‹¤:

> - **Starlette** (ì „íˆ¬ê¸° ê¸°ì²´) â€” ë¹„ë™ê¸°ì‹ ë° ìµœê³  ì„±ëŠ¥ì„ ì œê³µí•©ë‹ˆë‹¤.
> - **Pydantic** (ì˜¨ë³´ë“œ ì»´í“¨í„°) â€” ë°ì´í„° ìœ íš¨ì„± ê²€ì‚¬ ë° ì„¤ì • ê´€ë¦¬ë¥¼ ë‹´ë‹¹í•©ë‹ˆë‹¤.

---

#### **2. ë°œì‚¬ëŒ€ ì¤€ë¹„: ê°€ìƒ í™˜ê²½**
ì „íˆ¬ê¸°ë¥¼ ì œì‘í•˜ê¸° ì „ì— **ë¬´ê·  ì¡°ë¦½ ì‹¤í—˜ì‹¤**ì„ ë§Œë“¤ì–´ì•¼ í•©ë‹ˆë‹¤. Pythonì—ì„œëŠ” ì´ë¥¼ ìœ„í•´ **ê°€ìƒ í™˜ê²½**ì„ ì‚¬ìš©í•©ë‹ˆë‹¤.

**ì™œ í•„ìš”í• ê¹Œìš”?** í”„ë¡œì íŠ¸ì˜ ì¢…ì†ì„±(ì—”ì§„, ë‚´ë¹„ê²Œì´ì…˜ ì‹œìŠ¤í…œ)ì´ ì»´í“¨í„°ì˜ ë‹¤ë¥¸ í”„ë¡œì íŠ¸ì™€ ì¶©ëŒí•˜ì§€ ì•Šë„ë¡ í•˜ê¸° ìœ„í•¨ì…ë‹ˆë‹¤.

**1ë‹¨ê³„: ê°€ìƒ í™˜ê²½ ìƒì„±**
í”„ë¡œì íŠ¸ í´ë”(ì˜ˆ: `C:\Projects\FastAPI_Fleet`)ì—ì„œ í„°ë¯¸ë„ì„ ì—´ê³  ë‹¤ìŒì„ ì‹¤í–‰í•©ë‹ˆë‹¤:

```bash
python -m venv venv
```
ì´ ëª…ë ¹ì€ ê²©ë¦¬ëœ Python ë²„ì „ì´ í¬í•¨ëœ `venv` í´ë”ë¥¼ ìƒì„±í•©ë‹ˆë‹¤.

**2ë‹¨ê³„: ì‹¤í—˜ì‹¤ "ë³´í˜¸ë§‰" í™œì„±í™”**

- **Windows (PowerShell):**

  ```powershell
  .\venv\Scripts\Activate.ps1
  ```
  *(ì˜¤ë¥˜ê°€ ë°œìƒí•˜ëŠ” ê²½ìš° ìŠ¤í¬ë¦½íŠ¸ ì‹¤í–‰ì„ í—ˆìš©í•´ì•¼ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤: `Set-ExecutionPolicy -ExecutionPolicy RemoteSigned -Scope Process`)*

- **Windows (CMD):**

  ```cmd
  .\venv\Scripts\activate.bat
  ```

- **macOS / Linux:**

  ```bash
  source venv/bin/activate
  ```
í™œì„±í™” í›„ í„°ë¯¸ë„ ë¼ì¸ ì‹œì‘ ë¶€ë¶„ì— `(venv)`ê°€ ë‚˜íƒ€ë‚©ë‹ˆë‹¤. ì´ëŠ” ì—¬ëŸ¬ë¶„ì´ ì‹¤í—˜ì‹¤ ì•ˆì— ìˆë‹¤ëŠ” ê²ƒì„ ì˜ë¯¸í•©ë‹ˆë‹¤!

---

#### **3. ì—”ì§„ ì„¤ì¹˜: FastAPI ë° Uvicorn**
ì´ì œ ë‘ ê°€ì§€ í•µì‹¬ êµ¬ì„± ìš”ì†Œë¥¼ ì„¤ì¹˜í•˜ê² ìŠµë‹ˆë‹¤:

- **fastapi:** í”„ë ˆì„ì›Œí¬ ìì²´ì…ë‹ˆë‹¤.
- **uvicorn:** ì—”ì§„ì„ "ì‹œë™"í•  ë²ˆê°œì²˜ëŸ¼ ë¹ ë¥¸ ASGI ì„œë²„ì…ë‹ˆë‹¤.

í™œì„±í™”ëœ í™˜ê²½ì—ì„œ ë‹¤ìŒì„ ì‹¤í–‰í•©ë‹ˆë‹¤:
```bash
pip install "fastapi[all]"
```
> ğŸ’¡ **ì™œ `[all]`ì¼ê¹Œìš”?**
> ì´ëŠ” `fastapi`, `uvicorn` ë° í–¥í›„ ë¯¸ì…˜ì— ìœ ìš©í•  ë‹¤ë¥¸ ìœ ìš©í•œ íŒ¨í‚¤ì§€(ì˜ˆ: ì›¹ ì†Œì¼“ ë° Jinja2 ì§€ì›ìš©)ë¥¼ ì„¤ì¹˜í•©ë‹ˆë‹¤.

**ì„¤ì¹˜ í™•ì¸:**
```bash
pip freeze
```
ëª©ë¡ì—ì„œ `fastapi`, `pydantic`, `starlette`, `uvicorn` ë° ê¸°íƒ€ íŒ¨í‚¤ì§€ë¥¼ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

---

#### **4. ì²« ì ‘ì´‰: `main.py` íŒŒì¼**
í”„ë¡œì íŠ¸ ë£¨íŠ¸ì— `main.py` íŒŒì¼ì„ ìƒì„±í•˜ì„¸ìš”. ì´ê²ƒì´ APIì˜ **ì¤‘ì•™ ì œì–´íŒ**ì´ ë  ê²ƒì…ë‹ˆë‹¤.

**`main.py`ì— ë‹¤ìŒ ì½”ë“œë¥¼ ì¶”ê°€í•˜ì„¸ìš”:**
```python
from fastapi import FastAPI

# ìš°ë¦¬ "ìš°ì£¼ì„ " APIì˜ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ìƒì„±í•©ë‹ˆë‹¤.
app = FastAPI()

# ì²« ë²ˆì§¸ "ë„í‚¹ ë…¸ë“œ"(ì—”ë“œí¬ì¸íŠ¸)ë¥¼ ì •ì˜í•©ë‹ˆë‹¤.
# ì´ëŠ” ë£¨íŠ¸ URLì…ë‹ˆë‹¤: /
@app.get("/")
def read_root():
    """
    ì´ê²ƒì€ ì£¼ ê²Œì´íŠ¸ì›¨ì´ì— ì—°ê²°í•˜ëŠ” ëª¨ë“  ì‚¬ëŒì´ ë³¼ ìˆ˜ ìˆëŠ”
    ìš°ì£¼ ê´€ì œ ì„¼í„°ì˜ ë©”ì‹œì§€ì…ë‹ˆë‹¤.
    """
    return {"message": "ìš°ì£¼ í•¨ëŒ€ ê´€ì œ ì„¼í„°ì— ì˜¤ì‹  ê²ƒì„ í™˜ì˜í•©ë‹ˆë‹¤!"}
```
- `@app.get("/")`: ì´ëŠ” FastAPIì—ê²Œ `read_root` í•¨ìˆ˜ê°€ ë£¨íŠ¸ URL(`/`)ì— ëŒ€í•œ `GET` ìš”ì²­ì„ ì²˜ë¦¬í•´ì•¼ í•œë‹¤ê³  ì•Œë ¤ì£¼ëŠ” **ë°ì½”ë ˆì´í„°**ì…ë‹ˆë‹¤.

---

#### **5. ì í™”! ì„œë²„ ì‹¤í–‰**
ì´ì œ í•˜ì´í¼ë“œë¼ì´ë¸Œë¥¼ ì‹¤í–‰í•  ì‹œê°„ì…ë‹ˆë‹¤! í„°ë¯¸ë„(í™œì„±í™”ëœ `venv` ìƒíƒœ)ì—ì„œ ë‹¤ìŒì„ ì‹¤í–‰í•©ë‹ˆë‹¤:
```bash
uvicorn main:app --reload
```
**ëª…ë ¹ì–´ í•´ì„:**

- `uvicorn`: Uvicorn ì„œë²„ë¥¼ ì‹¤í–‰í•©ë‹ˆë‹¤.
- `main`: `main.py` íŒŒì¼(`.py` ì œì™¸).
- `app`: `main.py` ë‚´ë¶€ì—ì„œ ìƒì„±ëœ `app = FastAPI()` ê°ì²´.
- `--reload`: "ìë™ ì¡°ì¢…". ì½”ë“œê°€ ë³€ê²½ë  ë•Œë§ˆë‹¤ ì„œë²„ê°€ ìë™ìœ¼ë¡œ ë‹¤ì‹œ ì‹œì‘ë©ë‹ˆë‹¤.

**í„°ë¯¸ë„ ì˜ˆìƒ ì¶œë ¥:**
```
INFO:     Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)
INFO:     Started reloader process [12345]
INFO:     Started server process [12346]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
```

---

#### **6. ìš°ì£¼ ê´€ì œ ì„¼í„°ì™€ì˜ í†µì‹  í™•ì¸**
ì´ì œ APIê°€ ì˜¨ë¼ì¸ ìƒíƒœì´ë©° `8000` í¬íŠ¸ë¥¼ ìˆ˜ì‹  ëŒ€ê¸°í•˜ê³  ìˆìŠµë‹ˆë‹¤!

**1ë‹¨ê³„: ë¸Œë¼ìš°ì €ì—ì„œ í™•ì¸**

ë¸Œë¼ìš°ì €ì—ì„œ `http://127.0.0.1:8000` ì£¼ì†Œë¥¼ ì—½ë‹ˆë‹¤. ë‹¤ìŒì„ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤:
```json
{
  "message": "ìš°ì£¼ í•¨ëŒ€ ê´€ì œ ì„¼í„°ì— ì˜¤ì‹  ê²ƒì„ í™˜ì˜í•©ë‹ˆë‹¤!"
}
```

**2ë‹¨ê³„: ë¯¸ë˜ ì—¿ë³´ê¸° (ìë™ ë¬¸ì„œí™”)**

FastAPIëŠ” ì´ë¯¸ ë‘ ê°€ì§€ ì„ ë¬¼ì„ ë§Œë“¤ì—ˆìŠµë‹ˆë‹¤. ë‹¤ìŒ URLì„ ì—½ë‹ˆë‹¤:

- `http://127.0.0.1:8000/docs`: ëŒ€í™”í˜• Swagger UI ë¬¸ì„œ.
- `http://127.0.0.1:8000/redoc`: ëŒ€ì²´ ReDoc ë¬¸ì„œ.

ë¸Œë¼ìš°ì €ì—ì„œ ë°”ë¡œ í…ŒìŠ¤íŠ¸í•  ìˆ˜ ìˆëŠ” ì²« ë²ˆì§¸ ì—”ë“œí¬ì¸íŠ¸ë¥¼ ë³´ê²Œ ë  ê²ƒì…ë‹ˆë‹¤!

---

#### **í™•ì¸ì„ ìœ„í•œ í€´ì¦ˆ**

<style>
    #quiz-container {
        border-radius: 8px;
        padding: 20px;
        margin-top: 20px;
        box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    }
    .question {
        margin-bottom: 15px;
    }
    .question p {
        font-weight: bold;
        margin-bottom: 10px;
    }
    #quiz-container label {
        display: block;
        margin-bottom: 5px;
        cursor: pointer;
        padding: 5px;
        border-radius: 4px;
    }
    #quiz-container button {
        border: none;
        padding: 10px 20px;
        border-radius: 5px;
        cursor: pointer;
        font-size: 16px;
        margin-top: 10px;
    }
    #quiz-container button:hover {
    }
    #quiz-results {
        margin-top: 20px;
        padding: 15px;
        border-radius: 5px;
    }
</style>

<div id="quiz-container">
  <form id="quiz-form">
    <div class="question">
      <p>1. FastAPIëŠ” ...ìœ¼ë¡œ ì•Œë ¤ì ¸ ìˆìŠµë‹ˆë‹¤.</p>
      <label><input type="radio" name="q1" value="a"> a) ëŠë¦¬ì§€ë§Œ ì•ˆì •ì ì¸ ì‘ì—…</label>
      <label><input type="radio" name="q1" value="b"> b) ë†’ì€ ì„±ëŠ¥ê³¼ ì†ë„</label>
      <label><input type="radio" name="q1" value="c"> c) Microsoft ë°ì´í„°ë² ì´ìŠ¤ì™€ì˜ í†µí•©ë§Œ</label>
    </div>
    <div class="question">
      <p>2. ê°€ìƒ í™˜ê²½(`venv`)ì´ ì™œ í•„ìš”í• ê¹Œìš”?</p>
      <label><input type="radio" name="q2" value="a"> a) Python ì‘ì—… ì†ë„ í–¥ìƒ</label>
      <label><input type="radio" name="q2" value="b"> b) í”„ë¡œì íŠ¸ ì¢…ì†ì„± ê²©ë¦¬</label>
      <label><input type="radio" name="q2" value="c"> c) í…ŒìŠ¤íŠ¸ ìë™ ì‘ì„±</label>
    </div>
    <div class="question">
      <p>3. ì´ ê°•ì˜ì—ì„œ FastAPIë¥¼ ì‹¤í–‰í•˜ëŠ” ë° ì‚¬ìš©ë˜ëŠ” ì„œë²„ëŠ” ë¬´ì—‡ì…ë‹ˆê¹Œ?</p>
      <label><input type="radio" name="q3" value="a"> a) Apache</label>
      <label><input type="radio" name="q3" value="b"> b) Gunicorn</label>
      <label><input type="radio" name="q3" value="c"> c) Uvicorn</label>
    </div>
    <div class="question">
      <p>4. `uvicorn main:app --reload` ëª…ë ¹ì–´ëŠ” ë‹¤ìŒì„ ì˜ë¯¸í•©ë‹ˆë‹¤:</p>
      <label><input type="radio" name="q4" value="a"> a) `main` ê°ì²´ë¡œ `app.py` íŒŒì¼ ì‹¤í–‰</label>
      <label><input type="radio" name="q4" value="b"> b) `main.py` íŒŒì¼ì—ì„œ `app` ê°ì²´ë¥¼ ì‹¤í–‰í•˜ê³  ë³€ê²½ ì‹œ ë‹¤ì‹œ ì‹œì‘</label>
      <label><input type="radio" name="q4" value="c"> c) ì»´í“¨í„°ë¥¼ ì¬ë¶€íŒ…í•˜ê³  ì• í”Œë¦¬ì¼€ì´ì…˜ ì‹¤í–‰</label>
    </div>
    <div class="question">
      <p>5. FastAPIì—ì„œ `@app.get("/")` ë°ì½”ë ˆì´í„°ëŠ” ë¬´ì—‡ì„ í•©ë‹ˆê¹Œ?</p>
      <label><input type="radio" name="q5" value="a"> a) `app.py` íŒŒì¼ì—ì„œ ë°ì´í„° ê°€ì ¸ì˜¤ê¸°</label>
      <label><input type="radio" name="q5" value="b"> b) ì™¸ë¶€ ì„œë²„ì— GET ìš”ì²­ ë³´ë‚´ê¸°</label>
      <label><input type="radio" name="q5" value="c"> c) í•¨ìˆ˜ë¥¼ ë£¨íŠ¸ URLì— ëŒ€í•œ GET ìš”ì²­ê³¼ ì—°ê²°</label>
    </div>
    <button type="button" onclick="checkQuizAnswers()">í™•ì¸</button>
  </form>
  <div id="quiz-results" style="display:none;"></div>
</div>

<script>
  function checkQuizAnswers() {
    const correctAnswers = { q1: 'b', q2: 'b', q3: 'c', q4: 'b', q5: 'c' };
    const form = document.getElementById('quiz-form');
    const resultsContainer = document.getElementById('quiz-results');
    let score = 0;
    let resultsHTML = '<h4>ê²°ê³¼:</h4><ul>';

    for (const [question, correctAnswer] of Object.entries(correctAnswers)) {
      const questionDiv = form.querySelector(`input[name="${question}"]`).closest('.question');
      const labels = questionDiv.querySelectorAll('label');
      labels.forEach(l => {
          l.style.color = 'inherit';
          l.style.fontWeight = 'normal';
          l.style.border = 'none';
      });

      const userAnswer = form.elements[question] ? form.elements[question].value : undefined;

      if (userAnswer) {
        const selectedLabel = form.querySelector(`input[name="${question}"][value="${userAnswer}"]`).parentElement;
        if (userAnswer === correctAnswer) {
          score++;
          selectedLabel.style.fontWeight = 'bold';
          resultsHTML += `<li>ì§ˆë¬¸ ${question.slice(1)}: <span style="color:green;">ì •ë‹µì…ë‹ˆë‹¤!</span></li>`;
        } else {
          selectedLabel.style.fontWeight = 'bold';
          const correctLabel = form.querySelector(`input[name="${question}"][value="${correctAnswer}"]`).parentElement;
          correctLabel.style.fontWeight = 'bold';
          resultsHTML += `<li>ì§ˆë¬¸ ${question.slice(1)}: <span style="color:red;">ì˜¤ë‹µì…ë‹ˆë‹¤.</span> ì •ë‹µ: <b>${correctAnswer.toUpperCase()}</b></li>`;
        }
      } else {
        resultsHTML += `<li>ì§ˆë¬¸ ${question.slice(1)}: <span style="color:orange;">ë‹µë³€ ì—†ìŒ.</span></li>`;
      }
    }

    resultsHTML += `</ul><p><b>ê·€í•˜ì˜ ì ìˆ˜: ${Object.keys(correctAnswers).length}ì  ì¤‘ ${score}ì </b></p>`;
    resultsContainer.innerHTML = resultsHTML;
    resultsContainer.style.display = 'block';
  }
</script>

---

**ğŸš€ ì¥ ìš”ì•½:**

ìƒˆë¡œìš´ APIì˜ "í•˜ì´í¼ë“œë¼ì´ë¸Œ"ë¥¼ ì„±ê³µì ìœ¼ë¡œ ì¡°ë¦½í•˜ê³  ì‹¤í–‰í–ˆìŠµë‹ˆë‹¤! ì´ì œ ë‹¤ìŒì´ ìˆìŠµë‹ˆë‹¤:
- ğŸ› ï¸ ê²©ë¦¬ëœ ê°œë°œ í™˜ê²½ (`venv`)
- ğŸš€ FastAPI ë° Uvicorn ì„œë²„ ì„¤ì¹˜ ì™„ë£Œ
- ğŸ›°ï¸ ë‹¨ì¼ ì—”ë“œí¬ì¸íŠ¸ë¡œ ì‘ë™í•˜ëŠ” API
- ğŸ“Š ìë™ ìƒì„±ëœ ë¬¸ì„œ

**ëª¨ë“  ì‹œìŠ¤í…œ ì •ìƒ!** ë‹¤ìŒ ì¥ì—ì„œëŠ” ìš°ì£¼ì„  ëª©ë¡ì„ ë°˜í™˜í•˜ëŠ” ì²« ë²ˆì§¸ ì™„ì „í•œ ì—”ë“œí¬ì¸íŠ¸ë¥¼ ë§Œë“¤ ê²ƒì…ë‹ˆë‹¤.

> **ğŸ“Œ í™•ì¸:**

> - í„°ë¯¸ë„ì—ì„œ `(venv)` í™˜ê²½ í™œì„±í™”ë¨
> - `uvicorn` ì„œë²„ ì˜¤ë¥˜ ì—†ì´ ì‹¤í–‰ ì¤‘
> - `http://127.0.0.1:8000/docs` ì£¼ì†Œê°€ ë¸Œë¼ìš°ì €ì—ì„œ ì—´ë¦¼

> **âš ï¸ ì˜¤ë¥˜ ë°œìƒ ì‹œ:**

> - `command not found`: ê°€ìƒ í™˜ê²½ì„ í™œì„±í™”í–ˆëŠ”ì§€ í™•ì¸í•˜ì‹­ì‹œì˜¤.
> - `Port ... is already in use`: ë‹¤ë¥¸ í”„ë¡œê·¸ë¨ì´ í¬íŠ¸ 8000ì„ ì‚¬ìš© ì¤‘ì…ë‹ˆë‹¤. í•´ë‹¹ í”„ë¡œê·¸ë¨ì„ ì¤‘ì§€í•˜ê±°ë‚˜ ë‹¤ë¥¸ í¬íŠ¸ì—ì„œ uvicornì„ ì‹¤í–‰í•˜ì‹­ì‹œì˜¤: `uvicorn main:app --reload --port 8001`.
> - PowerShellì—ì„œ `venv` í™œì„±í™” ì‹œ ì˜¤ë¥˜: ìŠ¤í¬ë¦½íŠ¸ ì‹¤í–‰ ì •ì±…ì„ í™•ì¸í•˜ì‹­ì‹œì˜¤.