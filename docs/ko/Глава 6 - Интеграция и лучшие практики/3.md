# **6.3ì¥: ê¸°ë³¸ ì¸ì¦**
**í•™ìŠµ ì‹œê°„:** 1ì‹œê°„

---

#### **1. API ì¸ì¦: ì„ë¬´ í†µì œ ì„¼í„° ì…ì¥ í—ˆê°€ì¦**
**ì¸ì¦** â€” ì‚¬ìš©ì ì‹ ì›ì„ í™•ì¸í•˜ëŠ” ê³¼ì •ì…ë‹ˆë‹¤. ì„¸ì…˜ ë° ì¿ í‚¤ë¥¼ ì‚¬ìš©í•˜ëŠ” ì›¹ì‚¬ì´íŠ¸ì™€ ë‹¬ë¦¬, ìŠ¤í…Œì´íŠ¸ë¦¬ìŠ¤(ìƒíƒœ ë¹„ì €ì¥) APIëŠ” ì¼ë°˜ì ìœ¼ë¡œ **í† í°**ì„ ì‚¬ìš©í•©ë‹ˆë‹¤.

**ê³¼ì •ì€ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤:**

1.  ì‚¬ìš©ìëŠ” ìì‹ ì˜ ë¡œê·¸ì¸ ì •ë³´ì™€ ë¹„ë°€ë²ˆí˜¸ë¥¼ íŠ¹ì • ì—”ë“œí¬ì¸íŠ¸(ì˜ˆ: `/login`)ë¡œ ì „ì†¡í•©ë‹ˆë‹¤.
2.  ì„œë²„ëŠ” ì´ë¥¼ í™•ì¸í•©ë‹ˆë‹¤. ëª¨ë“  ê²ƒì´ ì˜¬ë°”ë¥´ë©´ ì„œë²„ëŠ” ê³ ìœ í•˜ê²Œ ì•”í˜¸í™”ëœ **í† í°**(ê¸´ ë¬¸ìì—´)ì„ ìƒì„±í•˜ì—¬ ë‹¤ì‹œ ë³´ëƒ…ë‹ˆë‹¤.
3.  ë³´í˜¸ëœ ë¦¬ì†ŒìŠ¤(ì˜ˆ: `POST /planets`)ì— ëŒ€í•œ í›„ì† ìš”ì²­ ì‹œ ì‚¬ìš©ìëŠ” `Authorization` í—¤ë”ì— ì´ í† í°ì„ ì²¨ë¶€í•´ì•¼ í•©ë‹ˆë‹¤.
4.  ì„œë²„ëŠ” í† í°ì˜ ìœ íš¨ì„±ì„ í™•ì¸í•˜ê³ , í† í°ì´ ì˜¬ë°”ë¥´ë©´ ìš”ì²­ì„ ì‹¤í–‰í•©ë‹ˆë‹¤.

> ğŸ’¡ **ìš°ì£¼ ë¹„ìœ :**

> - **ë¡œê·¸ì¸/ë¹„ë°€ë²ˆí˜¸** = ì¶œì…ì¦ ë°œê¸‰ì„ ìœ„í•œ ìƒì²´ ìŠ¤ìº”.
> - **í† í°** = ì„ë¬´ í†µì œ ì„¼í„° ì…êµ¬ì—ì„œ ë°›ëŠ” ì „ì ì¶œì…ì¦(ID ì¹´ë“œ).
> - **`Authorization: Bearer <í† í°>` í—¤ë”** = ëª¨ë“  ë³´í˜¸ëœ ë¬¸ì—ì„œ ë¦¬ë”ê¸°ì— ì¶œì…ì¦ì„ ê°–ë‹¤ ëŒ‘ë‹ˆë‹¤.
> - **ë³´í˜¸ëœ ì—”ë“œí¬ì¸íŠ¸ (POST, PUT, DELETE)** = ì„œë²„ì‹¤ ë˜ëŠ” ë°œì‚¬ ì œì–´ ì½˜ì†”ë¡œ í–¥í•˜ëŠ” ë¬¸.

---

#### **2. Laravelì—ì„œì˜ ì¸ì¦: Sanctum**
Laravelì€ API ì¸ì¦ì„ ìœ„í•œ ìš°ì•„í•œ ì†”ë£¨ì…˜ì¸ **Laravel Sanctum**ì„ ì œê³µí•©ë‹ˆë‹¤. ì´ëŠ” SPA(ë‹¨ì¼ í˜ì´ì§€ ì• í”Œë¦¬ì¼€ì´ì…˜), ëª¨ë°”ì¼ ì• í”Œë¦¬ì¼€ì´ì…˜ ë° ê°„ë‹¨í•œ í† í° ê¸°ë°˜ APIì— ì´ìƒì ì…ë‹ˆë‹¤.

**ë‹¨ê³„ 1: Sanctum ì„¤ì¹˜ ë° êµ¬ì„±**

*Sanctumì€ í‘œì¤€ Laravel ì• í”Œë¦¬ì¼€ì´ì…˜ì— ì´ë¯¸ ì„¤ì¹˜ë˜ì–´ ìˆì§€ë§Œ, êµ¬ì„±ì„ í™•ì¸í•´ ë³´ê² ìŠµë‹ˆë‹¤.*

1.  **êµ¬ì„± ë°œí–‰ (ì•„ì§ í•˜ì§€ ì•Šì•˜ë‹¤ë©´):**
    ```bash
    php artisan vendor:publish --provider="Laravel\Sanctum\SanctumServiceProvider"
    ```
2.  **ë§ˆì´ê·¸ë ˆì´ì…˜ ì‹¤í–‰ (`personal_access_tokens` í…Œì´ë¸” ìƒì„±):**
    ```bash
    php artisan migrate
    ```
3.  **User ëª¨ë¸ì— íŠ¸ë ˆì´íŠ¸ ì¶”ê°€:**
    `app/Models/User.php`ë¥¼ ì—´ê³  `HasApiTokens` íŠ¸ë ˆì´íŠ¸ë¥¼ ì‚¬ìš©í•˜ëŠ”ì§€ í™•ì¸í•˜ì‹­ì‹œì˜¤.
    ```php
    // app/Models/User.php
    use Laravel\Sanctum\HasApiTokens;

    class User extends Authenticatable
    {
        use HasApiTokens, HasFactory, Notifiable;
        // ...
    }
    ```

**ë‹¨ê³„ 2: í† í° ë°œê¸‰ì„ ìœ„í•œ ì—”ë“œí¬ì¸íŠ¸ ìƒì„±**
ì‚¬ìš©ìê°€ ë¡œê·¸ì¸/ë¹„ë°€ë²ˆí˜¸ë¥¼ ë³´ë‚¼ ë¼ìš°íŠ¸ê°€ í•„ìš”í•©ë‹ˆë‹¤.

`routes/api.php`ì— ì¶”ê°€:
```php
// routes/api.php
use Illuminate\Http\Request;
use Illuminate\Support\Facades\Hash;
use App\Models\User;
use Illuminate\Validation\ValidationException;

Route::post('/login', function (Request $request) {
    $request->validate([
        'email' => 'required|email',
        'password' => 'required',
    ]);

    $user = User::where('email', $request->email)->first();

    if (! $user || ! Hash::check($request->password, $user->password)) {
        throw ValidationException::withMessages([
            'email' => ['ë¡œê·¸ì¸ ì •ë³´ê°€ ì˜ëª»ë˜ì—ˆìŠµë‹ˆë‹¤.'],
        ]);
    }

    // í† í° ë°˜í™˜
    return response()->json([
        'token' => $user->createToken('api-token')->plainTextToken
    ]);
});
```

*í…ŒìŠ¤íŠ¸ë¥¼ ìœ„í•´ ì‹œë”(seeder) ë˜ëŠ” Tinkerë¥¼ í†µí•´ ì‚¬ìš©ìë¥¼ ìƒì„±í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.*

**ë‹¨ê³„ 3: ë¼ìš°íŠ¸ ë³´í˜¸**
ì´ì œ CRUD ì‘ì—…ì„ ë³´í˜¸í•˜ê² ìŠµë‹ˆë‹¤. `routes/api.php`ë¥¼ ë³€ê²½í•©ë‹ˆë‹¤:

```php
// routes/api.php
use App\Http\Controllers\PlanetController;

// í–‰ì„± ë³´ê¸°ë¥¼ ìœ„í•œ ê³µê°œ ë¼ìš°íŠ¸
Route::get('/planets', [PlanetController::class, 'index']);
Route::get('/planets/{planet}', [PlanetController::class, 'show']);

// ë³´í˜¸ëœ ë¼ìš°íŠ¸ ê·¸ë£¹
Route::middleware('auth:sanctum')->group(function () {
    Route::post('/planets', [PlanetController::class, 'store']);
    Route::put('/planets/{planet}', [PlanetController::class, 'update']);
    Route::delete('/planets/{planet}', [PlanetController::class, 'destroy']);

    // ë¡œê·¸ì•„ì›ƒ(í† í° ì‚­ì œ)ì„ ìœ„í•œ ë¼ìš°íŠ¸
    Route::post('/logout', function (Request $request) {
        $request->user()->currentAccessToken()->delete();
        return response()->json(['message' => 'ì„±ê³µì ìœ¼ë¡œ ë¡œê·¸ì•„ì›ƒë˜ì—ˆìŠµë‹ˆë‹¤'], 200);
    });
});
```

ë¯¸ë“¤ì›¨ì–´ `auth:sanctum`ì€ `Authorization` í—¤ë”ì— ìœ íš¨í•œ í† í°ì´ ìˆëŠ”ì§€ í™•ì¸í•  ê²ƒì…ë‹ˆë‹¤.

---

#### **3. FastAPIì—ì„œì˜ ì¸ì¦: OAuth2 ë° JWT**

FastAPIì—ëŠ” ë‚´ì¥ëœ ì¸ì¦ ì‹œìŠ¤í…œì´ ì—†ì§€ë§Œ, ì´ë¥¼ êµ¬í˜„í•˜ê¸° ìœ„í•œ ê°•ë ¥í•œ ë„êµ¬ê°€ ìˆìŠµë‹ˆë‹¤. ì‚¬ì‹¤ìƒì˜ í‘œì¤€ì€ **JWT í† í°ì„ ì‚¬ìš©í•œ OAuth2**ì…ë‹ˆë‹¤.

**ë‹¨ê³„ 1: ì¢…ì†ì„± ì„¤ì¹˜**
```bash
pip install "python-jose[cryptography]" "passlib[bcrypt]" "python-multipart"
```

- `python-jose`: JWT í† í° ìƒì„± ë° í™•ì¸ìš©.
- `passlib`: ë¹„ë°€ë²ˆí˜¸ í•´ì‹± ë° í™•ì¸ìš©.
- `python-multipart`: í¼ ë°ì´í„°(`username` ë° `password`) ì²˜ë¦¬ìš©.

**ë‹¨ê³„ 2: ë³´ì•ˆ ëª¨ë“ˆ ìƒì„± (`security.py`)**
ëª¨ë“  ì¸ì¦ ë¡œì§ì„ ë³„ë„ì˜ íŒŒì¼ë¡œ ë¶„ë¦¬í•˜ëŠ” ê²ƒì´ ì¢‹ì€ ë°©ë²•ì…ë‹ˆë‹¤.

**`security.py` íŒŒì¼ ìƒì„±:**

```python
# security.py
from fastapi import Depends, HTTPException, status
from fastapi.security import OAuth2PasswordBearer
from jose import JWTError, jwt
from passlib.context import CryptContext
from datetime import datetime, timedelta, timezone

# --- ì„¤ì • ---
SECRET_KEY = "your-super-secret-key-that-is-long-and-random" # âš ï¸ ë³¸ì¸ì˜ í‚¤ë¡œ êµì²´í•˜ì„¸ìš”!
ALGORITHM = "HS256"
ACCESS_TOKEN_EXPIRE_MINUTES = 30

# --- ìœ í‹¸ë¦¬í‹° ---
pwd_context = CryptContext(schemes=["bcrypt"], deprecated="auto")
oauth2_scheme = OAuth2PasswordBearer(tokenUrl="/api/v1/login")

# --- í•¨ìˆ˜ ---
def verify_password(plain_password, hashed_password):
    return pwd_context.verify(plain_password, hashed_password)

def get_password_hash(password):
    return pwd_context.hash(password)

def create_access_token(data: dict):
    to_encode = data.copy()
    expire = datetime.now(timezone.utc) + timedelta(minutes=ACCESS_TOKEN_EXPIRE_MINUTES)
    to_encode.update({"exp": expire})
    encoded_jwt = jwt.encode(to_encode, SECRET_KEY, algorithm=ALGORITHM)
    return encoded_jwt

# --- í† í° í™•ì¸ì„ ìœ„í•œ ì˜ì¡´ì„± í•¨ìˆ˜ ---
def get_current_user(token: str = Depends(oauth2_scheme)):
    credentials_exception = HTTPException(
        status_code=status.HTTP_401_UNAUTHORIZED,
        detail="ë¡œê·¸ì¸ ì •ë³´ë¥¼ í™•ì¸í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤",
        headers={"WWW-Authenticate": "Bearer"},
    )
    try:
        payload = jwt.decode(token, SECRET_KEY, algorithms=[ALGORITHM])
        username: str = payload.get("sub")
        if username is None:
            raise credentials_exception
    except JWTError:
        raise credentials_exception
    # ì—¬ê¸°ì„œ DBì—ì„œ ì‚¬ìš©ìë¥¼ ë°˜í™˜í•  ìˆ˜ ìˆì§€ë§Œ, ì§€ê¸ˆì€ ë‹¨ìˆœíˆ ì´ë¦„ì„ ë°˜í™˜í•©ë‹ˆë‹¤
    return {"username": username}
```

**ë‹¨ê³„ 3: `main.py`ì— í†µí•©**
ì´ì œ ì´ê²ƒì„ ìš°ë¦¬ ì• í”Œë¦¬ì¼€ì´ì…˜ì— ì—°ê²°í•˜ê² ìŠµë‹ˆë‹¤.

1.  **`/login` ì—”ë“œí¬ì¸íŠ¸ ìƒì„±:**
    ```python
    # main.py
    from fastapi.security import OAuth2PasswordRequestForm
    from fastapi import Depends, APIRouter
    from . import security # ìš°ë¦¬ ëª¨ë“ˆì„ ì„í¬íŠ¸í•©ë‹ˆë‹¤

    # ... ë‹¹ì‹ ì˜ FastAPI ì½”ë“œ ...
    router = APIRouter(prefix="/api/v1")

    @router.post("/login")
    def login_for_access_token(form_data: OAuth2PasswordRequestForm = Depends()):
        # ì—¬ê¸°ì— DB ì‚¬ìš©ì ê²€ì¦ ë¡œì§ì´ ìˆì–´ì•¼ í•©ë‹ˆë‹¤
        # ì˜ˆë¥¼ ë“¤ì–´, í•˜ë‚˜ì˜ í…ŒìŠ¤íŠ¸ ì‚¬ìš©ìê°€ ìˆìŠµë‹ˆë‹¤
        is_user_valid = (form_data.username == "testuser" and
                         security.verify_password("testpass", security.get_password_hash("testpass")))

        if not is_user_valid:
            raise HTTPException(
                status_code=status.HTTP_401_UNAUTHORIZED,
                detail="ì˜ëª»ëœ ì‚¬ìš©ì ì´ë¦„ ë˜ëŠ” ë¹„ë°€ë²ˆí˜¸",
            )
        access_token = security.create_access_token(data={"sub": form_data.username})
        return {"access_token": access_token, "token_type": "bearer"}

    # ...
    app.include_router(router)
    ```

2.  **ì—”ë“œí¬ì¸íŠ¸ ë³´í˜¸:**

    ìš°ë¦¬ ì˜ì¡´ì„± `get_current_user`ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.
    ```python
    # main.py ë˜ëŠ” ë‹¹ì‹ ì˜ í–‰ì„± ë¼ìš°í„°ì—ì„œ

    @router.post("/planets", status_code=status.HTTP_201_CREATED)
    def create_planet(
        planet: PlanetCreate,
        current_user: dict = Depends(security.get_current_user) # <-- ë³´í˜¸!
    ):
        // í–‰ì„± ìƒì„± ë¡œì§...
        print(f"ì‚¬ìš©ì {current_user['username']}ì´(ê°€) í–‰ì„±ì„ ìƒì„±í•©ë‹ˆë‹¤.")
        // ...
        return new_planet

    // PUT ë° DELETEë„ ë³´í˜¸í•©ë‹ˆë‹¤
    ```

---

#### **4. í”„ëŸ°íŠ¸ì—”ë“œì—ì„œ í† í° ì‚¬ìš©**

ì´ì œ ìš°ë¦¬ í”„ëŸ°íŠ¸ì—”ë“œëŠ” ë¨¼ì € í† í°ì„ ì–»ê³ , ê·¸ê²ƒì„ ì €ì¥í•˜ê³ (ì˜ˆ: `localStorage`ì—), ê° ë³´í˜¸ëœ ìš”ì²­ì— ì²¨ë¶€í•´ì•¼ í•©ë‹ˆë‹¤.

**JavaScript (`fetch`) ì˜ˆì‹œ:**
```javascript
// 1. ë¡œê·¸ì¸
async function login(email, password) {
    const response = await fetch('http://localhost:8001/api/login', { // Laravel API ì£¼ì†Œ
        method: 'POST',
        headers: {'Content-Type': 'application/json'},
        body: JSON.stringify({email, password})
    });
    const data = await response.json();

    if (data.token) {
        localStorage.setItem('api_token', data.token); // í† í° ì €ì¥
    }
}

// 2. ë³´í˜¸ëœ ìš”ì²­ ìˆ˜í–‰
async function createPlanet(planetData) {
    const token = localStorage.getItem('api_token');

    const response = await fetch('http://localhost:8001/api/planets', {
        method: 'POST',
        headers: {
            'Content-Type': 'application/json',
            'Authorization': `Bearer ${token}` // <--- í† í° ì²¨ë¶€!
        },
        body: JSON.stringify(planetData)
    });
    // ...
}
```

---

#### **ë³µìŠµ í€´ì¦ˆ**


<style>
    #quiz-container {
        border-radius: 8px;
        padding: 20px;
        margin-top: 20px;
        box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    }
    .question {
        margin-bottom: 15px;
    }
    .question p {
        font-weight: bold;
        margin-bottom: 10px;
    }
    #quiz-container label {
        display: block;
        margin-bottom: 5px;
        cursor: pointer;
        padding: 5px;
        border-radius: 4px;
    }
    #quiz-container button {
        border: none;
        padding: 10px 20px;
        border-radius: 5px;
        cursor: pointer;
        font-size: 16px;
        margin-top: 10px;
    }
    #quiz-container button:hover {
    }
    #quiz-results {
margin-top: 20px;
        padding: 15px;
        border-radius: 5px;
    }
</style>

<div id="quiz-container">
  <form id="quiz-form">
    <div class="question">
      <p>1. Stateless APIëŠ” ì£¼ë¡œ ì¸ì¦ì— ë‹¤ìŒì„ ì‚¬ìš©í•©ë‹ˆë‹¤:</p>
      <label><input type="radio" name="q1" value="a"> a) ì„¸ì…˜ ë° ì¿ í‚¤</label>
      <label><input type="radio" name="q1" value="b"> b) í† í° (ì˜ˆ: JWT)</label>
      <label><input type="radio" name="q1" value="c"> c) IP ì£¼ì†Œ</label>
    </div>
    <div class="question">
      <p>2. Laravelì—ì„œ í† í°ì„ ì‚¬ìš©í•˜ì—¬ ë¼ìš°íŠ¸ë¥¼ ë³´í˜¸í•˜ëŠ” ë° ì‚¬ìš©ë˜ëŠ” ë¯¸ë“¤ì›¨ì–´ëŠ” ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤:</p>
      <label><input type="radio" name="q2" value="a"> a) auth:api</label>
      <label><input type="radio" name="q2" value="b"> b) auth:sanctum</label>
      <label><input type="radio" name="q2" value="c"> c) verified</label>
    </div>
    <div class="question">
      <p>3. FastAPIì—ì„œ ë¡œê·¸ì¸ í¼ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¤ëŠ” ë° ì‚¬ìš©ë˜ëŠ” ì¢…ì†ì„±ì€ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤:</p>
      <label><input type="radio" name="q3" value="a"> a) Body()</label>
      <label><input type="radio" name="q3" value="b"> b) Form()</label>
      <label><input type="radio" name="q3" value="c"> c) OAuth2PasswordRequestForm = Depends()</label>
    </div>
    <div class="question">
      <p>4. ë³´í˜¸ëœ ìš”ì²­ì—ì„œ í† í°ì€ í´ë¼ì´ì–¸íŠ¸ì—ì„œ ì„œë²„ë¡œ ì–´ë–»ê²Œ ì „ë‹¬ë©ë‹ˆê¹Œ?</p>
      <label><input type="radio" name="q4" value="a"> a) URL ë§¤ê°œë³€ìˆ˜ `?token=...` ë‚´</label>
      <label><input type="radio" name="q4" value="b"> b) ìš”ì²­ ë³¸ë¬¸ ë‚´</label>
      <label><input type="radio" name="q4" value="c"> c) HTTP í—¤ë” `Authorization: Bearer <í† í°>` ë‚´</label>
    </div>
    <button type="button" onclick="checkQuizAnswers()">í™•ì¸</button>
  </form>
  <div id="quiz-results" style="display:none;"></div>
</div>

<script>
  function checkQuizAnswers() {
    const correctAnswers = { q1: 'b', q2: 'b', q3: 'c', q4: 'c' };
    const form = document.getElementById('quiz-form');
    const resultsContainer = document.getElementById('quiz-results');
    let score = 0;
    let resultsHTML = '<h4>ê²°ê³¼:</h4><ul>';

    for (const [question, correctAnswer] of Object.entries(correctAnswers)) {
      const questionDiv = form.querySelector(`input[name="${question}"]`).closest('.question');
      const labels = questionDiv.querySelectorAll('label');
      labels.forEach(l => {
          l.style.color = 'inherit';
          l.style.fontWeight = 'normal';
          l.style.border = 'none';
      });

      const userAnswer = form.elements[question] ? form.elements[question].value : undefined;

      if (userAnswer) {
        const selectedLabel = form.querySelector(`input[name="${question}"][value="${userAnswer}"]`).parentElement;
        if (userAnswer === correctAnswer) {
          score++;
          selectedLabel.style.fontWeight = 'bold';
          resultsHTML += `<li>ì§ˆë¬¸ ${question.slice(1)}: <span style="color:green;">ì •ë‹µì…ë‹ˆë‹¤!</span></li>`;
        } else {
          selectedLabel.style.fontWeight = 'bold';
          const correctLabel = form.querySelector(`input[name="${question}"][value="${correctAnswer}"]`).parentElement;
          correctLabel.style.fontWeight = 'bold';
          resultsHTML += `<li>ì§ˆë¬¸ ${question.slice(1)}: <span style="color:red;">ì˜¤ë‹µì…ë‹ˆë‹¤.</span> ì •ë‹µ: <b>${correctAnswer.toUpperCase()}</b></li>`;
        }
      } else {
        resultsHTML += `<li>ì§ˆë¬¸ ${question.slice(1)}: <span style="color:orange;">ë‹µë³€ ì—†ìŒ.</span></li>`;
      }
    }

    resultsHTML += `</ul><p><b>ë‹¹ì‹ ì˜ ì ìˆ˜: ${Object.keys(correctAnswers).length}ê°œ ì¤‘ ${score}ê°œ</b></p>`;
    resultsContainer.innerHTML = resultsHTML;
    resultsContainer.style.display = 'block';
  }
</script>

---

**ğŸš€ ì¥ ìš”ì•½:**

APIì— "ì•¡ì„¸ìŠ¤ ì œì–´ ì‹œìŠ¤í…œ"ì„ êµ¬ì¶•í–ˆìŠµë‹ˆë‹¤. ì´ì œ ëˆ„êµ¬ë‚˜ ë‹¹ì‹ ì˜ "ì€í•˜ê³„ ë°ì´í„°ë² ì´ìŠ¤"ë¥¼ ìˆ˜ì •í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.

- âœ… í† í° ê¸°ë°˜ ì¸ì¦ì˜ ì›ë¦¬ë¥¼ ì´í•´í–ˆìŠµë‹ˆë‹¤.
- ğŸ” Laravel Sanctumì—ì„œ í† í° ë°œê¸‰ ë° ë¼ìš°íŠ¸ ë³´í˜¸ë¥¼ êµ¬í˜„í–ˆìŠµë‹ˆë‹¤.
- âš™ï¸ FastAPIì—ì„œ OAuth2 ë° JWT ê¸°ë°˜ ì¸ì¦ì„ ì„¤ì •í–ˆìŠµë‹ˆë‹¤.
- ğŸ›°ï¸ í”„ë¡ íŠ¸ì—”ë“œê°€ í† í°ì„ ì €ì¥í•˜ê³  ì‚¬ìš©í•˜ëŠ” ë°©ë²•ì„ ë°°ì› ìŠµë‹ˆë‹¤.

**ë‹¹ì‹ ì˜ APIëŠ” ê¸°ëŠ¥ì ì¼ ë¿ë§Œ ì•„ë‹ˆë¼ ì•ˆì „í•´ì¡ŒìŠµë‹ˆë‹¤.** ê·¸ëŸ¬ë‚˜ ë‹¤ë¥¸ ê°œë°œìë“¤ì´ ì´ë¥¼ ì‚¬ìš©í•˜ë ¤ë©´ "ì‚¬ìš© ì„¤ëª…ì„œ"ê°€ í•„ìš”í•©ë‹ˆë‹¤.

> **ğŸ“Œ í™•ì¸:**

> - Postman ë˜ëŠ” Insomniaë¥¼ ì‚¬ìš©í•˜ì—¬ í† í° ì—†ì´ `/api/planets` (Laravel) ë˜ëŠ” `/api/v1/planets` (FastAPI)ì— `POST` ìš”ì²­ì„ ì‹œë„í•´ë³´ì‹­ì‹œì˜¤. `401 Unauthorized` ì˜¤ë¥˜ë¥¼ ë°›ì•„ì•¼ í•©ë‹ˆë‹¤.
> - `/login`ì— ìš”ì²­ì„ ë³´ë‚´ í† í°ì„ ë°›ê³ , ì´ë¥¼ `Authorization` í—¤ë”ì— ì¶”ê°€í•œ ë‹¤ìŒ `POST` ìš”ì²­ì„ ë‹¤ì‹œ ì‹œë„í•´ë³´ì‹­ì‹œì˜¤. ìš”ì²­ì´ ì„±ê³µì ìœ¼ë¡œ ì™„ë£Œë˜ì–´ì•¼ í•©ë‹ˆë‹¤.