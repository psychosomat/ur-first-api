# **1.1장: API란 무엇이며 왜 필요한가?**
**학습 시간:** 30분

---

#### **1. 소개: "우주 도킹 허브"로서의 API**
우주선 사령관이라고 상상해 보세요. 우주선을 ISS에 연결하려면 **표준 도킹 허브**가 필요합니다. 우주선과 우주 정거장이 완벽하게 맞아도, 이것이 없으면 도킹할 수 없습니다.

**API (Application Programming Interface)**는 프로그램들을 위한 이와 같은 "도킹 허브"입니다.
- 서로 다른 애플리케이션이 **데이터를 교환**하고 **함께 작동**할 수 있도록 하는 규칙 집합입니다.
- 예시: 모바일 앱이 일기 예보를 표시할 때, 기상 서비스의 API를 사용합니다.

> 💡 **우주 비유:**
> API는 지구와 화성 로버 간의 통신 프로토콜과 같습니다. 로버는 자신에게 이해 가능한 형식(예: "분화구 사진 찍어")으로 명령을 받고, 작업을 수행한 다음 데이터를 다시 보냅니다.

---

#### **2. API가 왜 필요한가?**
1. **개발 간소화**
   모든 것을 처음부터 만들 필요 없이, **SpaceX API**와 같은 준비된 API를 사용합니다.
   ```python
   # 예시: SpaceX 발사 데이터 가져오기
   import requests
   response = requests.get("https://api.spacexdata.com/v3/missions")
   print(response.json()[0])  # 데이터 출력
   ```

2. **프로세스 자동화**
   API를 통해 로봇 탐사선은 수동 개입 없이 데이터를 지구로 자동 전송할 수 있습니다.

3. **시스템 통합**
   ISS 모듈 도킹과 같습니다: API는 당신의 애플리케이션을 결제 시스템, 데이터베이스, 심지어 망원경과도 연결합니다!

4. **고유 데이터 접근**
   예를 들어, [SpaceX API](https://docs.spacexdata.com/)는 로켓 발사에 대한 실제 데이터를 제공합니다.

---

#### **3. API는 어떻게 작동하는가?**

- **클라이언트**(당신의 프로그램)는 서버로 **HTTP 요청**을 보냅니다.
- **서버**(예: NASA)는 요청을 처리하고 **JSON 형식의 응답**을 반환합니다.
- **데이터**는 "우주 보물"입니다: ISS 좌표, 은하계 사진, 외계 행성 목록.

> **⚡ "Open Notify" API (ISS) 요청 예시:**
> ```bash
> curl "http://api.open-notify.org/iss-now.json"
> ```
> **응답:**
> ```json
> {
>   "message": "success",
>   "timestamp": 1725431234,
>   "iss_position": {
>     "latitude": "51.1234",
>     "longitude": "-120.5678"
>   }
> }
> ```

---

#### **4. API 유형 (간략 개요)**
| 유형        | 우주 관련 예시                                       | 사용처                 |
|-------------|--------------------------------------------------|------------------------|
| **REST**    | 표준 관제 센터 ↔ 위성 통신                      | 웹 서비스 (90% 사례) |
| **GraphQL** | "맞춤형 요청" (예: "행성의 크기와 질량만 줘")      | 복잡한 시스템          |
| **SOAP**    | 구형 임무의 무선 암호화와 같음               | 기업용 애플리케이션    |

이 튜토리얼에서는 가장 인기 있는 형식인 **REST API**에 중점을 둡니다.

---

#### **5. 우주 API 예시**
1. **NASA Open API**: 소행성 데이터, 허블 망원경 사진.
2. **SpaceX API**: 발사, 로켓, 드래곤 우주선 정보.
3. **Open Notify**: ISS의 현재 위치, 우주에 있는 사람 수.

---

#### **대화형 퀴즈**

<style>
    #quiz-container {
        border-radius: 8px;
        padding: 20px;
        margin-top: 20px;
        box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    }
    .question {
        margin-bottom: 15px;
    }
    .question p {
        font-weight: bold;
        margin-bottom: 10px;
    }
    #quiz-container label {
        display: block;
        margin-bottom: 5px;
        cursor: pointer;
        padding: 5px;
        border-radius: 4px;
    }
    #quiz-container button {
        border: none;
        padding: 10px 20px;
        border-radius: 5px;
        cursor: pointer;
        font-size: 16px;
        margin-top: 10px;
    }
    #quiz-container button:hover {
    }
    #quiz-results {
        margin-top: 20px;
        padding: 15px;
        border-radius: 5px;
    }
</style>

<div id="quiz-container">
  <form id="quiz-form">
    <div class="question">
      <p>1. API는...</p>
      <label><input type="radio" name="q1" value="a"> 가) 인공 지능</label>
      <label><input type="radio" name="q1" value="b"> 나) 프로그램 상호 작용을 위한 규칙 집합</label>
      <label><input type="radio" name="q1" value="c"> 다) 프로그래밍 언어</label>
    </div>
    <div class="question">
      <p>2. 코드를 직접 작성하는 대신 API를 사용하는 이유는 무엇인가요?</p>
      <label><input type="radio" name="q2" value="a"> 가) 시간을 절약하기 위해</label>
      <label><input type="radio" name="q2" value="b"> 나) 고유한 데이터에 접근하기 위해</label>
      <label><input type="radio" name="q2" value="c"> 다) 두 가지 모두</label>
    </div>
    <div class="question">
      <p>3. API가 가장 자주 반환하는 데이터 형식은 무엇인가요?</p>
      <label><input type="radio" name="q3" value="a"> 가) XML</label>
      <label><input type="radio" name="q3" value="b"> 나) JSON</label>
      <label><input type="radio" name="q3" value="c"> 다) TXT</label>
    </div>
    <div class="question">
    <button type="button" onclick="checkQuizAnswers()">확인</button>
  </form>
  <div id="quiz-results" style="display:none;"></div>
</div>

<script>
  function checkQuizAnswers() {
    const correctAnswers = { q1: 'b', q2: 'c', q3: 'b'};
    const form = document.getElementById('quiz-form');
    const resultsContainer = document.getElementById('quiz-results');
    let score = 0;
    let resultsHTML = '<h4>결과:</h4><ul>';

    for (const [question, correctAnswer] of Object.entries(correctAnswers)) {
      const questionDiv = form.querySelector(`input[name="${question}"]`).closest('.question');
      const labels = questionDiv.querySelectorAll('label');
      labels.forEach(l => {
          l.style.color = 'inherit';
          l.style.fontWeight = 'normal';
          l.style.border = 'none';
      });

      const userAnswer = form.elements[question] ? form.elements[question].value : undefined;

      if (userAnswer) {
        const selectedLabel = form.querySelector(`input[name="${question}"][value="${userAnswer}"]`).parentElement;
        if (userAnswer === correctAnswer) {
          score++;
          selectedLabel.style.color = '#28a745';
          selectedLabel.style.fontWeight = 'bold';
          resultsHTML += `<li>질문 ${question.slice(1)}: <span style="color:#28a745;">정답입니다!</span></li>`;
        } else {
          selectedLabel.style.color = '#dc3545';
          selectedLabel.style.fontWeight = 'bold';
          const correctLabel = form.querySelector(`input[name="${question}"][value="${correctAnswer}"]`).parentElement;
          correctLabel.style.color = '#28a745';
          correctLabel.style.fontWeight = 'bold';
          resultsHTML += `<li>질문 ${question.slice(1)}: <span style="color:#dc3545;">오답입니다.</span> 정답: <b>${correctAnswer.toUpperCase()}</b></li>`;
        }
      } else {
        resultsHTML += `<li>질문 ${question.slice(1)}: <span style="color:#ffc107;">응답 없음.</span></li>`;
      }
    }

    resultsHTML += `</ul><p><b>귀하의 점수: ${Object.keys(correctAnswers).length}점 중 ${score}점</b></p>`;
    resultsContainer.innerHTML = resultsHTML;
    resultsContainer.style.display = 'block';
  }
</script>

---

**🚀 챕터 요약:**

API는 외부 소스로부터 데이터를 다루기 위한 기반입니다. 우주비행사가 관제 센터와 통신 없이는 일할 수 없듯이, 개발자도 API 없이는 복잡한 애플리케이션을 구축할 수 없습니다. 다음 챕터에서는 HTTP 메서드를 사용하여 서버에 "명령"을 보내는 방법을 배울 것입니다!

> **📌 팁:** [Open Notify API](http://api.open-notify.org/)에 요청을 보내 ISS가 현재 어디에 있는지 확인해 보세요! (간단한 콘솔로도 가능합니다)