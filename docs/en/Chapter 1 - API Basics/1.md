# **Chapter 1.1: What is an API and why is it needed?**
**Study time:** 30 minutes

---

#### **1. Introduction: API as a "space docking port"**
Imagine you are the commander of a spaceship. To connect your ship to the ISS, you need a **standard docking port**. Without it, docking is impossible, even if the ship and the station are a perfect match.

**API (Application Programming Interface)** is the same "docking port" for programs.
- It is a set of rules that allows different applications to **exchange data** and **work together**.
- Example: when a mobile application shows the weather forecast, it uses the API of a weather service.

> ðŸ’¡ **Analogy from space:**
> An API is like a communication protocol between Earth and a Mars rover. The rover receives commands in a format it understands (e.g., "take a photo of the crater"), performs the task, and sends the data back.

---

#### **2. Why are APIs needed?**
1. **Simplifying development**
   Instead of creating everything from scratch, you use a ready-made API, like the **SpaceX API**.
   ```python
   # Example: Getting data about SpaceX launches
   import requests
   response = requests.get("https://api.spacexdata.com/v3/missions")
   print(response.json()[0])  # Output data
   ```

2. **Process automation**
   APIs allow robotic probes to automatically transmit data to Earth without manual intervention.

3. **System integration**
   Like docking modules of the ISS: an API connects your application with payment systems, databases, or even telescopes!

4. **Access to unique data**
   For example, the [SpaceX API](https://docs.spacexdata.com/) provides real data on rocket launches.

---

#### **3. How does an API work?**

- The **client** (your program) sends an **HTTP request** to the server.
- The **server** (e.g., NASA) processes the request and returns a **response in JSON format**.
- The **data** is "space treasures": ISS coordinates, photos of galaxies, a list of exoplanets.

> **âš¡ Example of a request to the "Open Notify" API (ISS):**
> ```bash
> curl "http://api.open-notify.org/iss-now.json"
> ```
> **Response:**
> ```json
> {
>   "message": "success",
>   "timestamp": 1725431234,
>   "iss_position": {
>     "latitude": "51.1234",
>     "longitude": "-120.5678"
>   }
> }
> ```

---

#### **4. Types of APIs (Brief overview)**
| Type      | Example from space                    | Where it is used          |
|-----------|---------------------------------------|---------------------------|
| **REST**  | Standard communication "MCC â†” satellite" | Web services (90% of cases) |
| **GraphQL**| "Custom request" (e.g., "give only the size and mass of the planet") | Complex systems          |
| **SOAP**  | Like radio encryption in old missions   | Enterprise applications  |

In this tutorial, we will focus on **REST API** - the most popular format.

---

#### **5. Examples of space APIs**
1. **NASA Open API**: Data on asteroids, photos from the Hubble telescope.
2. **SpaceX API**: Information about launches, rockets, Dragon ships.
3. **Open Notify**: Current position of the ISS, number of people in space.

---

#### **Interactive quiz**

<style>
    #quiz-container {
        border-radius: 8px;
        padding: 20px;
        margin-top: 20px;
        box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    }
    .question {
        margin-bottom: 15px;
    }
    .question p {
        font-weight: bold;
        margin-bottom: 10px;
    }
    #quiz-container label {
        display: block;
        margin-bottom: 5px;
        cursor: pointer;
        padding: 5px;
        border-radius: 4px;
    }
    #quiz-container button {
        border: none;
        padding: 10px 20px;
        border-radius: 5px;
        cursor: pointer;
        font-size: 16px;
        margin-top: 10px;
    }
    #quiz-container button:hover {
    }
    #quiz-results {
        margin-top: 20px;
        padding: 15px;
        border-radius: 5px;
    }
</style>

<div id="quiz-container">
  <form id="quiz-form">
    <div class="question">
      <p>1. An API is...</p>
      <label><input type="radio" name="q1" value="a"> a) Artificial intelligence</label>
      <label><input type="radio" name="q1" value="b"> b) A set of rules for program interaction</label>
      <label><input type="radio" name="q1" value="c"> c) A programming language</label>
    </div>
    <div class="question">
      <p>2. Why use an API instead of writing your own code?</p>
      <label><input type="radio" name="q2" value="a"> a) To save time</label>
      <label><input type="radio" name="q2" value="b"> b) To get access to unique data</label>
      <label><input type="radio" name="q2" value="c"> c) Both options</label>
    </div>
    <div class="question">
      <p>3. What data format does an API most often return?</p>
      <label><input type="radio" name="q3" value="a"> a) XML</label>
      <label><input type="radio" name="q3" value="b"> b) JSON</label>
      <label><input type="radio" name="q3" value="c"> c) TXT</label>
    </div>
    <button type="button" onclick="checkQuizAnswers()">Check</button>
  </form>
  <div id="quiz-results" style="display:none;"></div>
</div>

<script>
  function checkQuizAnswers() {
    const correctAnswers = { q1: 'b', q2: 'c', q3: 'b'};
    const form = document.getElementById('quiz-form');
    const resultsContainer = document.getElementById('quiz-results');
    let score = 0;
    let resultsHTML = '<h4>Results:</h4><ul>';

    for (const [question, correctAnswer] of Object.entries(correctAnswers)) {
      const questionDiv = form.querySelector(`input[name="${question}"]`).closest('.question');
      const labels = questionDiv.querySelectorAll('label');
      labels.forEach(l => {
          l.style.color = 'inherit';
          l.style.fontWeight = 'normal';
          l.style.border = 'none';
      });

      const userAnswer = form.elements[question] ? form.elements[question].value : undefined;

      if (userAnswer) {
        const selectedLabel = form.querySelector(`input[name="${question}"][value="${userAnswer}"]`).parentElement;
        if (userAnswer === correctAnswer) {
          score++;
          selectedLabel.style.color = '#28a745';
          selectedLabel.style.fontWeight = 'bold';
          resultsHTML += `<li>Question ${question.slice(1)}: <span style="color:#28a745;">Correct!</span></li>`;
        } else {
          selectedLabel.style.color = '#dc3545';
          selectedLabel.style.fontWeight = 'bold';
          const correctLabel = form.querySelector(`input[name="${question}"][value="${correctAnswer}"]`).parentElement;
          correctLabel.style.color = '#28a745';
          correctLabel.style.fontWeight = 'bold';
          resultsHTML += `<li>Question ${question.slice(1)}: <span style="color:#dc3545;">Incorrect.</span> The correct answer is: <b>${correctAnswer.toUpperCase()}</b></li>`;
        }
      } else {
        resultsHTML += `<li>Question ${question.slice(1)}: <span style="color:#ffc107;">No answer.</span></li>`;
      }
    }

    resultsHTML += `</ul><p><b>Your score: ${score} out of ${Object.keys(correctAnswers).length}</b></p>`;
    resultsContainer.innerHTML = resultsHTML;
    resultsContainer.style.display = 'block';
  }
</script>

---

**ðŸš€ Chapter summary:**

An API is the foundation for working with data from external sources. Just as an astronaut cannot work without communication with the MCC, a developer cannot build a complex application without an API. In the next chapter, we will learn how to send "commands" to the server using HTTP methods!

> **ðŸ“Œ Hint:** Try making a request to the [Open Notify API](http://api.open-notify.org/) and find out where the ISS is now! (You can do this even with a simple console)
