# **Cap√≠tulo 1.1: O que √© uma API e por que voc√™ precisa dela?**
**Tempo de estudo:** 30 minutos

---

#### **1. Introdu√ß√£o: API como um "n√≥ de acoplamento espacial"**
Imagine que voc√™ √© o comandante de uma nave espacial. Para conectar sua nave √† ISS, voc√™ precisa de um **n√≥ de acoplamento padr√£o**. Sem ele, √© imposs√≠vel acoplar, mesmo que a nave e a esta√ß√£o se encaixem perfeitamente.

**API (Interface de Programa√ß√£o de Aplica√ß√µes)** ‚Äî √© um "n√≥ de acoplamento" semelhante para programas.
- √â um conjunto de regras que permite que diferentes aplica√ß√µes **troquem dados** e **trabalhem juntas**.
- Exemplo: quando um aplicativo m√≥vel exibe a previs√£o do tempo, ele usa a API de um servi√ßo meteorol√≥gico.

> üí° **Analogia espacial:**
> Uma API √© como um protocolo de comunica√ß√£o entre a Terra e um rover marciano. O rover recebe comandos em um formato compreens√≠vel para ele (por exemplo, "tirar foto da cratera"), executa a tarefa e envia os dados de volta.

---

#### **2. Por que as APIs s√£o necess√°rias?**
1. **Simplifica√ß√£o do desenvolvimento**
   Em vez de criar tudo do zero, voc√™ usa uma API pronta, como a **SpaceX API**.
   ```python
   # Exemplo: Obten√ß√£o de dados sobre os lan√ßamentos da SpaceX
   import requests
   response = requests.get("https://api.spacexdata.com/v3/missions")
   print(response.json()[0])  # Exibi√ß√£o dos dados
   ```

2. **Automa√ß√£o de processos**
   Uma API permite que rob√¥s-sonda transmitam dados automaticamente para a Terra sem interven√ß√£o manual.

3. **Integra√ß√£o de sistemas**
   Como o acoplamento de m√≥dulos da ISS: a API conecta sua aplica√ß√£o a sistemas de pagamento, bancos de dados ou at√© mesmo telesc√≥pios!

4. **Acesso a dados √∫nicos**
   Por exemplo, a [SpaceX API](https://docs.spacexdata.com/) fornece dados reais sobre lan√ßamentos de foguetes.

---

#### **3. Como funciona uma API?**

- O **Cliente** (seu programa) envia uma **requisi√ß√£o HTTP** para o servidor.
- O **Servidor** (por exemplo, NASA) processa a requisi√ß√£o e retorna uma **resposta no formato JSON**.
- Os **Dados** ‚Äî s√£o "tesouros espaciais": coordenadas da ISS, fotos de gal√°xias, lista de exoplanetas.

> **‚ö° Exemplo de requisi√ß√£o √† API "Open Notify" (ISS):**
> ```bash
> curl "http://api.open-notify.org/iss-now.json"
> ```
> **Resposta:**
> ```json
> {
>   "message": "success",
>   "timestamp": 1725431234,
>   "iss_position": {
>     "latitude": "51.1234",
>     "longitude": "-120.5678"
>   }
> }
> ```

---

#### **4. Tipos de API (Vis√£o Geral Breve)**
| Tipo      | Exemplo espacial                      | Onde √© usado              |
|-----------|---------------------------------------|---------------------------|
| **REST**  | Comunica√ß√£o padr√£o "Centro de Controle ‚Üî sat√©lite" | Servi√ßos web (90% dos casos) |
| **GraphQL**| "Requisi√ß√£o personalizada" (por exemplo, "d√™ apenas o tamanho e a massa do planeta") | Sistemas complexos       |
| **SOAP**  | Como a criptografia de r√°dio em miss√µes antigas | Aplica√ß√µes corporativas |

Neste tutorial, vamos focar nas **APIs REST** ‚Äî o formato mais popular.

---

#### **5. Exemplos de APIs espaciais**
1. **NASA Open API**: Dados sobre asteroides, fotos do telesc√≥pio Hubble.
2. **SpaceX API**: Informa√ß√µes sobre lan√ßamentos, foguetes, naves Dragon.
3. **Open Notify**: Posi√ß√£o atual da ISS, n√∫mero de pessoas no espa√ßo.

---

#### **Quiz interativo**

<style>
    #quiz-container {
        border-radius: 8px;
        padding: 20px;
        margin-top: 20px;
        box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    }
    .question {
        margin-bottom: 15px;
    }
    .question p {
        font-weight: bold;
        margin-bottom: 10px;
    }
    #quiz-container label {
        display: block;
        margin-bottom: 5px;
        cursor: pointer;
        padding: 5px;
        border-radius: 4px;
    }
    #quiz-container button {
        border: none;
        padding: 10px 20px;
        border-radius: 5px;
        cursor: pointer;
        font-size: 16px;
        margin-top: 10px;
    }
    #quiz-container button:hover {
    }
    #quiz-results {
        margin-top: 20px;
        padding: 15px;
        border-radius: 5px;
    }
</style>

<div id="quiz-container">
  <form id="quiz-form">
    <div class="question">
      <p>1. API ‚Äî √©...</p>
      <label><input type="radio" name="q1" value="a"> a) Intelig√™ncia Artificial</label>
      <label><input type="radio" name="q1" value="b"> b) Um conjunto de regras para intera√ß√£o de programas</label>
      <label><input type="radio" name="q1" value="c"> c) Uma linguagem de programa√ß√£o</label>
    </div>
    <div class="question">
      <p>2. Por que usar uma API em vez de escrever seu pr√≥prio c√≥digo?</p>
      <label><input type="radio" name="q2" value="a"> a) Para economizar tempo</label>
      <label><input type="radio" name="q2" value="b"> b) Para obter acesso a dados √∫nicos</label>
      <label><input type="radio" name="q2" value="c"> c) Ambas as op√ß√µes</label>
    </div>
    <div class="question">
      <p>3. Qual formato de dados uma API geralmente retorna?</p>
      <label><input type="radio" name="q3" value="a"> a) XML</label>
      <label><input type="radio" name="q3" value="b"> b) JSON</label>
      <label><input type="radio" name="q3" value="c"> c) TXT</label>
    </div>
    <div class="question">
    <button type="button" onclick="checkQuizAnswers()">Verificar</button>
  </form>
  <div id="quiz-results" style="display:none;"></div>
</div>

<script>
  function checkQuizAnswers() {
    const correctAnswers = { q1: 'b', q2: 'c', q3: 'b'};
    const form = document.getElementById('quiz-form');
    const resultsContainer = document.getElementById('quiz-results');
    let score = 0;
    let resultsHTML = '<h4>Resultados:</h4><ul>';

    for (const [question, correctAnswer] of Object.entries(correctAnswers)) {
      const questionDiv = form.querySelector(`input[name="${question}"]`).closest('.question');
      const labels = questionDiv.querySelectorAll('label');
      labels.forEach(l => {
          l.style.color = 'inherit';
          l.style.fontWeight = 'normal';
          l.style.border = 'none';
      });

      const userAnswer = form.elements[question] ? form.elements[question].value : undefined;

      if (userAnswer) {
        const selectedLabel = form.querySelector(`input[name="${question}"][value="${userAnswer}"]`).parentElement;
        if (userAnswer === correctAnswer) {
          score++;
          selectedLabel.style.color = '#28a745';
          selectedLabel.style.fontWeight = 'bold';
          resultsHTML += `<li>Quest√£o ${question.slice(1)}: <span style="color:#28a745;">Correto!</span></li>`;
        } else {
          selectedLabel.style.color = '#dc3545';
          selectedLabel.style.fontWeight = 'bold';
          const correctLabel = form.querySelector(`input[name="${question}"][value="${correctAnswer}"]`).parentElement;
          correctLabel.style.color = '#28a745';
          correctLabel.style.fontWeight = 'bold';
          resultsHTML += `<li>Quest√£o ${question.slice(1)}: <span style="color:#dc3545;">Incorreto.</span> Resposta correta: <b>${correctAnswer.toUpperCase()}</b></li>`;
        }
      } else {
        resultsHTML += `<li>Quest√£o ${question.slice(1)}: <span style="color:#ffc107;">Sem resposta.</span></li>`;
      }
    }

    resultsHTML += `</ul><p><b>Seu resultado: ${score} de ${Object.keys(correctAnswers).length}</b></p>`;
    resultsContainer.innerHTML = resultsHTML;
    resultsContainer.style.display = 'block';
  }
</script>

---

**üöÄ Resumo do cap√≠tulo:**

A API √© a base para trabalhar com dados de fontes externas. Assim como um astronauta n√£o pode trabalhar sem comunica√ß√£o com o Centro de Controle da Miss√£o, um desenvolvedor n√£o pode construir uma aplica√ß√£o complexa sem uma API. No pr√≥ximo cap√≠tulo, aprenderemos como enviar "comandos" para o servidor usando m√©todos HTTP!

> **üìå Dica:** Tente fazer uma requisi√ß√£o √† [Open Notify API](http://api.open-notify.org/) e descubra onde a ISS est√° agora! (Isso pode ser feito at√© mesmo usando um console simples)